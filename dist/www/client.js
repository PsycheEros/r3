(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{125:function(l,n){function e(l){return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+l+"'");throw n.code="MODULE_NOT_FOUND",n})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id=125},131:function(l){l.exports={a:{aqua:{displayName:"Aqua",color:[180,100,50]},black:{displayName:"Black",color:[0,0,0]},blue:{displayName:"Blue",color:[240,100,50]},fuschsia:{displayName:"Fuchsia",color:[300,100,50]},gray:{displayName:"Gray",color:[0,0,50]},green:{displayName:"Green",color:[120,100,50]},orange:{displayName:"Orange",color:[30,100,50]},pink:{displayName:"Pink",color:[330,100,50]},purple:{displayName:"Purple",color:[270,100,50]},red:{displayName:"Red",color:[0,100,50]},white:{displayName:"White",color:[0,0,100]},yellow:{displayName:"Yellow",color:[60,100,50]}}}},137:function(l,n,e){"use strict";e.r(n);e(199),e(197),e(196),e(195);var t=e(45),o=e(136),u=e(135),i=e(134);t.d.add(o.a,u.a,i.a);var s=e(0);class r{}var a=e(42),d=e(127),c=e(212),m=e(213),h=e(192),g=e(211);class p{constructor(l,n){this.gameService=l,this.roomService=n,this.currentRoom=null,this.destroyed=new a.a}ngOnInit(){const l=this.destroyed;this.roomService.getCurrentRoom().pipe(Object(m.a)(l)).subscribe(l=>{this.currentRoom=l})}ngAfterViewInit(){const l=this.destroyed,n=["Backspace"," "],e=["Backspace","Space"],t=["INPUT","TEXTAREA","SELECT"];Object(d.a)("keydown","keypress").pipe(Object(h.a)(l=>Object(c.a)(document,l,{capture:!1})),Object(g.a)(l=>n.includes(l.key)||e.includes(l.code)),Object(g.a)(l=>{const n=document.activeElement,e=l.srcElement||l.target;return n===document.body||n===document.documentElement||!e||!t.includes(e.tagName||e.nodeName)||e.disabled||e.readOnly}),Object(m.a)(l)).subscribe(l=>{l.cancelBubble=!0,l.returnValue=!1,l.stopPropagation(),l.preventDefault()})}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}}var v=e(133),f=e(132),b=e(10),y=e(7),w=e(3),C=e(4),R=e(28),x=e(14);class S{constructor(){this.showCloseButton=!0,this.closeClick=new s.EventEmitter}}var O=[[""]],k=s["ɵcrt"]({encapsulation:0,styles:O,data:{}});function M(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,3,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.closeClick.emit()&&t);return t},null,null)),(l()(),s["ɵeld"](1,0,null,null,2,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),s["ɵeld"](2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","times"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](3,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null)],function(l,n){l(n,3,0,"times")},function(l,n){l(n,2,0,s["ɵnov"](n,3).renderedIconHTML)})}function j(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),s["ɵncd"](null,0),(l()(),s["ɵand"](16777216,null,null,1,null,M)),s["ɵdid"](4,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,n.component.showCloseButton)},null)}var I=e(2);class P{constructor(l){this.roomService=l,this.rooms=[],this.roomName="",this.password=""}show(){this.createRoomModal.show()}hide(){this.createRoomModal.hide()}async createRoom(){const l=this.roomService,n=this.roomName,e=this.password;n&&(this.hide(),await l.createRoom(n,e))}}var T=e(129),_=e(210),E=e(209),q=e(128),N=e(208),D=e(207);class V{constructor(l,n){this.scheduler=l,this.sessionService=n,this.allMessages=new T.a(10),this.allRooms=new _.a([]),this.joinedRoomIds=new _.a([]),this.joinedRooms=new _.a([]),this.currentRoom=new _.a(null),n.getEvents("rooms").subscribe(l=>{this.allRooms.next(l)}),n.getEvents("joinedRooms").subscribe(l=>{this.joinedRoomIds.next(l)}),Object(E.a)(this.joinedRoomIds,this.allRooms,(l,n)=>{const e=n.filter(n=>l.includes(n.roomId)),t=this.currentRoom.getValue();return t&&this.currentRoom.next(e.filter(l=>l.roomId===t.roomId)[0]||null),e}).subscribe(l=>{this.joinedRooms.next(l)}),n.getEvents("message").subscribe(l=>{this.allMessages.next(l)})}getRooms(){const l=this.allRooms,n=this.scheduler;return l.pipe(Object(q.b)(n))}async sendMessage(l,n){const e=this.sessionService;await e.emit("sendMessage",{roomId:l,message:n})}getMessages(){const l=this.allMessages,n=this.scheduler;return l.pipe(Object(N.a)(),Object(D.a)((l,n)=>[...l,n],[]),Object(q.b)(n))}getJoinedRooms(){const l=this.joinedRooms,n=this.scheduler;return l.pipe(Object(N.a)(),Object(q.b)(n))}async joinRoom(l,n){const e=this.sessionService,t=this.currentRoom,o=l.roomId;await e.emit("joinRoom",{roomId:o,password:n}),t.next(l)}async leaveRoom(l){const n=this.sessionService;await n.emit("leaveRoom",{roomId:l})}async createRoom(l,n){const e=this.currentRoom,t=this.sessionService,o=await t.emit("createRoom",{name:l,password:n});return e.next(o),o}async setRoom(l){const n=this.currentRoom;if(l){const e=l.roomId;if(!this.joinedRooms.getValue().some(l=>l.roomId===e))throw new Error("Room is not joined.");n.next(l)}else n.next(null)}getCurrentRoom(){const l=this.currentRoom,n=this.scheduler;return l.pipe(Object(N.a)(),Object(q.b)(n))}}var G=[[""]],L=s["ɵcrt"]({encapsulation:0,styles:G,data:{}});function H(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{createRoomModal:0}),(l()(),s["ɵeld"](1,16777216,null,null,40,"div",[["aria-hidden","true"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"onHidden"],[null,"onShown"],[null,"click"],[null,"keydown.esc"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==s["ɵnov"](l,2).onClick(e)&&t);"keydown.esc"===n&&(t=!1!==s["ɵnov"](l,2).onEsc(e)&&t);"onHidden"===n&&(o.roomName="",t=!1!==(o.password="")&&t);"onShown"===n&&(t=!1!==s["ɵnov"](l,20).focus()&&t);return t},null,null)),s["ɵdid"](2,212992,[[1,4],["createRoomModal",4]],0,R.a,[s.ElementRef,s.ViewContainerRef,s.Renderer2,x.a],null,{onShown:"onShown",onHidden:"onHidden"}),(l()(),s["ɵeld"](3,0,null,null,38,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(l()(),s["ɵeld"](4,0,null,null,37,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),s["ɵeld"](5,0,null,null,2,"modal-header",[],null,[[null,"closeClick"]],function(l,n,e){var t=!0;"closeClick"===n&&(t=!1!==s["ɵnov"](l,2).hide()&&t);return t},j,k)),s["ɵdid"](6,49152,null,0,S,[],null,{closeClick:"closeClick"}),(l()(),s["ɵted"](-1,0,[" Create Room "])),(l()(),s["ɵeld"](8,0,null,null,33,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),s["ɵeld"](9,0,null,null,32,"form",[["autocomplete","off"],["class","clearfix"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0,o=l.component;"submit"===n&&(t=!1!==s["ɵnov"](l,11).onSubmit(e)&&t);"reset"===n&&(t=!1!==s["ɵnov"](l,11).onReset()&&t);"ngSubmit"===n&&(t=!1!==o.createRoom()&&t);return t},null,null)),s["ɵdid"](10,16384,null,0,I.o,[],null,null),s["ɵdid"](11,4210688,[["createRoomForm",4]],0,I.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s["ɵprd"](2048,null,I.b,null,[I.j]),s["ɵdid"](13,16384,null,0,I.i,[[4,I.b]],null,null),(l()(),s["ɵeld"](14,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](15,0,null,null,12,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),s["ɵeld"](16,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),s["ɵeld"](17,0,null,null,2,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),s["ɵeld"](18,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","door-open"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](19,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),(l()(),s["ɵeld"](20,0,[["roomNameText",1]],null,7,"input",[["autocomplete","off"],["class","form-control"],["name","room-name"],["placeholder","Room Name"],["required","required"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;"input"===n&&(t=!1!==s["ɵnov"](l,21)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,21).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,21)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,21)._compositionEnd(e.target.value)&&t);"ngModelChange"===n&&(t=!1!==(o.roomName=e)&&t);return t},null,null)),s["ɵdid"](21,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵdid"](22,16384,null,0,I.m,[],{required:[0,"required"]},null),s["ɵprd"](1024,null,I.e,function(l){return[l]},[I.m]),s["ɵprd"](1024,null,I.f,function(l){return[l]},[I.c]),s["ɵdid"](25,671744,null,0,I.k,[[2,I.b],[6,I.e],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](27,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵeld"](28,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](29,0,null,null,10,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),s["ɵeld"](30,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),s["ɵeld"](31,0,null,null,2,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),s["ɵeld"](32,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","lock"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](33,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),(l()(),s["ɵeld"](34,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","room-password"],["placeholder","Password (optional)"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;"input"===n&&(t=!1!==s["ɵnov"](l,35)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,35).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,35)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,35)._compositionEnd(e.target.value)&&t);"ngModelChange"===n&&(t=!1!==(o.password=e)&&t);return t},null,null)),s["ɵdid"](35,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵprd"](1024,null,I.f,function(l){return[l]},[I.c]),s["ɵdid"](37,671744,null,0,I.k,[[2,I.b],[8,null],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](39,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵeld"](40,0,null,null,1,"button",[["class","btn float-right"]],[[8,"disabled",0]],null,null,null,null)),(l()(),s["ɵted"](-1,null,[" Create "]))],function(l,n){var e=n.component;l(n,2,0);l(n,19,0,"door-open");l(n,22,0,"required");l(n,25,0,"room-name",e.roomName);l(n,33,0,"lock");l(n,37,0,"room-password",e.password)},function(l,n){l(n,9,0,s["ɵnov"](n,13).ngClassUntouched,s["ɵnov"](n,13).ngClassTouched,s["ɵnov"](n,13).ngClassPristine,s["ɵnov"](n,13).ngClassDirty,s["ɵnov"](n,13).ngClassValid,s["ɵnov"](n,13).ngClassInvalid,s["ɵnov"](n,13).ngClassPending),l(n,18,0,s["ɵnov"](n,19).renderedIconHTML),l(n,20,0,s["ɵnov"](n,22).required?"":null,s["ɵnov"](n,27).ngClassUntouched,s["ɵnov"](n,27).ngClassTouched,s["ɵnov"](n,27).ngClassPristine,s["ɵnov"](n,27).ngClassDirty,s["ɵnov"](n,27).ngClassValid,s["ɵnov"](n,27).ngClassInvalid,s["ɵnov"](n,27).ngClassPending),l(n,32,0,s["ɵnov"](n,33).renderedIconHTML),l(n,34,0,s["ɵnov"](n,39).ngClassUntouched,s["ɵnov"](n,39).ngClassTouched,s["ɵnov"](n,39).ngClassPristine,s["ɵnov"](n,39).ngClassDirty,s["ɵnov"](n,39).ngClassValid,s["ɵnov"](n,39).ngClassInvalid,s["ɵnov"](n,39).ngClassPending),l(n,40,0,!s["ɵnov"](n,11).form.valid)})}class A{constructor(l,n){this.roomService=l,this.zone=n,this.password=""}show(l){const n=this.joinRoomModal;this.zone.run(()=>{this.room=l,n.show()})}hide(){const l=this.joinRoomModal;this.zone.run(()=>{this.room=null,l.hide()})}async joinRoom(){const l=this.roomService,n=this.room,e=this.password;this.hide(),await l.joinRoom(n,e)}}var z=[[""]],F=s["ɵcrt"]({encapsulation:0,styles:z,data:{}});function $(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{joinRoomModal:0}),(l()(),s["ɵeld"](1,16777216,null,null,40,"div",[["aria-hidden","true"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"onHidden"],[null,"onShown"],[null,"click"],[null,"keydown.esc"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==s["ɵnov"](l,2).onClick(e)&&t);"keydown.esc"===n&&(t=!1!==s["ɵnov"](l,2).onEsc(e)&&t);"onHidden"===n&&(t=!1!==(o.password="")&&t);"onShown"===n&&(t=!1!==s["ɵnov"](l,32).focus()&&t);return t},null,null)),s["ɵdid"](2,212992,[[1,4],["joinRoomModal",4]],0,R.a,[s.ElementRef,s.ViewContainerRef,s.Renderer2,x.a],null,{onShown:"onShown",onHidden:"onHidden"}),(l()(),s["ɵeld"](3,0,null,null,38,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(l()(),s["ɵeld"](4,0,null,null,37,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),s["ɵeld"](5,0,null,null,2,"modal-header",[],null,[[null,"closeClick"]],function(l,n,e){var t=!0;"closeClick"===n&&(t=!1!==s["ɵnov"](l,2).hide()&&t);return t},j,k)),s["ɵdid"](6,49152,null,0,S,[],null,{closeClick:"closeClick"}),(l()(),s["ɵted"](-1,0,[" Join Room "])),(l()(),s["ɵeld"](8,0,null,null,33,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),s["ɵeld"](9,0,null,null,32,"form",[["autocomplete","off"],["class","clearfix"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0,o=l.component;"submit"===n&&(t=!1!==s["ɵnov"](l,11).onSubmit(e)&&t);"reset"===n&&(t=!1!==s["ɵnov"](l,11).onReset()&&t);"ngSubmit"===n&&(t=!1!==o.joinRoom()&&t);return t},null,null)),s["ɵdid"](10,16384,null,0,I.o,[],null,null),s["ɵdid"](11,4210688,[["joinRoomForm",4]],0,I.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s["ɵprd"](2048,null,I.b,null,[I.j]),s["ɵdid"](13,16384,null,0,I.i,[[4,I.b]],null,null),(l()(),s["ɵeld"](14,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](15,0,null,null,10,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),s["ɵeld"](16,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),s["ɵeld"](17,0,null,null,2,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),s["ɵeld"](18,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","door-closed"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](19,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),(l()(),s["ɵeld"](20,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","room-name"],["readonly","readonly"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0;"input"===n&&(t=!1!==s["ɵnov"](l,21)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,21).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,21)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,21)._compositionEnd(e.target.value)&&t);return t},null,null)),s["ɵdid"](21,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵprd"](1024,null,I.f,function(l){return[l]},[I.c]),s["ɵdid"](23,671744,null,0,I.k,[[2,I.b],[8,null],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},null),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](25,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵeld"](26,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](27,0,null,null,12,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),s["ɵeld"](28,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),s["ɵeld"](29,0,null,null,2,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),s["ɵeld"](30,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","key"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](31,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),(l()(),s["ɵeld"](32,0,[["roomPasswordText",1]],null,7,"input",[["autocomplete","off"],["class","form-control"],["name","room-password"],["placeholder","Password"],["required","required"],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;"input"===n&&(t=!1!==s["ɵnov"](l,33)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,33).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,33)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,33)._compositionEnd(e.target.value)&&t);"ngModelChange"===n&&(t=!1!==(o.password=e)&&t);return t},null,null)),s["ɵdid"](33,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵdid"](34,16384,null,0,I.m,[],{required:[0,"required"]},null),s["ɵprd"](1024,null,I.e,function(l){return[l]},[I.m]),s["ɵprd"](1024,null,I.f,function(l){return[l]},[I.c]),s["ɵdid"](37,671744,null,0,I.k,[[2,I.b],[6,I.e],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](39,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵeld"](40,0,null,null,1,"button",[["class","btn float-right"]],[[8,"disabled",0]],null,null,null,null)),(l()(),s["ɵted"](-1,null,[" Join "]))],function(l,n){var e=n.component;l(n,2,0);l(n,19,0,"door-closed");l(n,23,0,"room-name",null==e.room?null:e.room.name);l(n,31,0,"key");l(n,34,0,"required");l(n,37,0,"room-password",e.password)},function(l,n){l(n,9,0,s["ɵnov"](n,13).ngClassUntouched,s["ɵnov"](n,13).ngClassTouched,s["ɵnov"](n,13).ngClassPristine,s["ɵnov"](n,13).ngClassDirty,s["ɵnov"](n,13).ngClassValid,s["ɵnov"](n,13).ngClassInvalid,s["ɵnov"](n,13).ngClassPending),l(n,18,0,s["ɵnov"](n,19).renderedIconHTML),l(n,20,0,s["ɵnov"](n,25).ngClassUntouched,s["ɵnov"](n,25).ngClassTouched,s["ɵnov"](n,25).ngClassPristine,s["ɵnov"](n,25).ngClassDirty,s["ɵnov"](n,25).ngClassValid,s["ɵnov"](n,25).ngClassInvalid,s["ɵnov"](n,25).ngClassPending),l(n,30,0,s["ɵnov"](n,31).renderedIconHTML),l(n,32,0,s["ɵnov"](n,34).required?"":null,s["ɵnov"](n,39).ngClassUntouched,s["ɵnov"](n,39).ngClassTouched,s["ɵnov"](n,39).ngClassPristine,s["ɵnov"](n,39).ngClassDirty,s["ɵnov"](n,39).ngClassValid,s["ɵnov"](n,39).ngClassInvalid,s["ɵnov"](n,39).ngClassPending),l(n,40,0,!s["ɵnov"](n,11).form.valid)})}var Z=e(200);class J{constructor(l){this.roomService=l,this.rooms=[],this.destroyed=new a.a}ngOnInit(){const l=this.destroyed;this.roomService.getRooms().pipe(Object(m.a)(l)).subscribe(l=>{this.rooms=l})}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}async joinRoom(l){const n=this.roomService;(await n.getJoinedRooms().pipe(Object(Z.a)(1)).toPromise()).some(n=>n.roomId===l.roomId)?await n.setRoom(l):l.hasPassword?this.joinRoomModal.show(l):await n.joinRoom(l,"")}}var U=[[""]],B=s["ɵcrt"]({encapsulation:0,styles:U,data:{}});function W(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,4,"div",[["class","list-group-item"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,[" There are no rooms. Would you like to "])),(l()(),s["ɵeld"](2,0,null,null,1,"a",[["href","javascript:"]],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==s["ɵnov"](l.parent,13).show()&&t);return t},null,null)),(l()(),s["ɵted"](-1,null,["create one"])),(l()(),s["ɵted"](-1,null,["? "]))],null,null)}function X(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"fa-icon",[["class","mr-2 mt-1 ng-fa-icon"],["icon","lock"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](1,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null)],function(l,n){l(n,1,0,"lock")},function(l,n){l(n,0,0,s["ɵnov"](n,1).renderedIconHTML)})}function Y(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,6,"div",[["class","list-group-item d-flex"]],null,null,null,null,null)),(l()(),s["ɵand"](16777216,null,null,1,null,X)),s["ɵdid"](2,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵeld"](3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),s["ɵted"](4,null,["",""])),(l()(),s["ɵeld"](5,0,null,null,1,"button",[["class","btn ml-auto"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.joinRoom(l.context.$implicit)&&t);return t},null,null)),(l()(),s["ɵted"](-1,null,[" Join "]))],function(l,n){l(n,2,0,n.context.$implicit.hasPassword)},function(l,n){l(n,4,0,n.context.$implicit.name)})}function K(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{createRoomModal:0}),s["ɵqud"](402653184,2,{joinRoomModal:0}),(l()(),s["ɵeld"](2,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),s["ɵeld"](3,0,null,null,5,"div",[["class","col-12 mb-1"]],null,null,null,null,null)),(l()(),s["ɵeld"](4,0,null,null,4,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),s["ɵand"](16777216,null,null,1,null,W)),s["ɵdid"](6,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵand"](16777216,null,null,1,null,Y)),s["ɵdid"](8,802816,null,0,C.c,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),s["ɵeld"](9,0,null,null,2,"div",[["class","col-12 clearfix mt-1"]],null,null,null,null,null)),(l()(),s["ɵeld"](10,0,null,null,1,"button",[["class","btn float-right mr-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==s["ɵnov"](l,13).show()&&t);return t},null,null)),(l()(),s["ɵted"](-1,null,[" Create Room "])),(l()(),s["ɵeld"](12,0,null,null,1,"modal-create-room",[],null,null,null,H,L)),s["ɵdid"](13,49152,[[1,4],["createRoomModal",4]],0,P,[V],null,null),(l()(),s["ɵeld"](14,0,null,null,1,"modal-join-room",[],null,null,null,$,F)),s["ɵdid"](15,49152,[[2,4],["joinRoomModal",4]],0,A,[V,s.NgZone],null,null)],function(l,n){var e=n.component;l(n,6,0,0===e.rooms.length),l(n,8,0,e.rooms)},null)}var Q=e(201);function ll({x:l,y:n},e){return{x:l-e.x,y:e.y-n}}function nl({x:l,y:n},e){return{x:l+e.x,y:e.y-n}}function el(l,n,e,t,o,u,i,s,r,a=!1){a?(l.moveTo(n+r,e),l.quadraticCurveTo(n,e,n,e+r),l.lineTo(n,e+o-s),l.quadraticCurveTo(n,e+o,n+s,e+o),l.lineTo(n+t-i,e+o),l.quadraticCurveTo(n+t,e+o,n+t,e+o-i),l.lineTo(n+t,e+u),l.quadraticCurveTo(n+t,e,n+t-u,e),l.lineTo(n+r,e)):(l.moveTo(n+r,e),l.lineTo(n+t-u,e),l.quadraticCurveTo(n+t,e,n+t,e+u),l.lineTo(n+t,e+o-i),l.quadraticCurveTo(n+t,e+o,n+t-i,e+o),l.lineTo(n+s,e+o),l.quadraticCurveTo(n,e+o,n,e+o-s),l.lineTo(n,e+r),l.quadraticCurveTo(n,e,n+r,e))}class tl{constructor(){this.dirty=new a.a,this.lastMove=null,this.click=new s.EventEmitter,this.mousemove=new s.EventEmitter}ngAfterViewInit(){const l=this.canvas=this.canvasElementRef.nativeElement;this.c2d=l.getContext("2d"),this.dirty.next(!0)}ngOnChanges(){this.dirty.next(!0)}ngOnDestroy(){this.dirty.complete()}ngOnInit(){this.dirty.pipe(Object(q.b)(Q.a)).subscribe(()=>{this.render()})}render(){const l=this.board;if(!l)return;const n=this.canvas,e=this.c2d,t=n.width,o=n.height,u={x:l.bounds.left+.25*l.bounds.width,y:l.bounds.top+.25*l.bounds.height};e.clearRect(0,0,t,o);const i=e.createRadialGradient(u.x,u.y,0,l.bounds.center.x,l.bounds.center.y,.7*Math.min(l.bounds.width,l.bounds.height));i.addColorStop(0,"rgba(255,255,255,.2)"),i.addColorStop(.4,"rgba(255,255,255,0)"),e.beginPath(),el(e,l.bounds.left,l.bounds.top,l.bounds.width,l.bounds.height,20,20,20,20),e.closePath(),e.save(),Object.assign(e,{fillStyle:"#3a3"}),e.fill(),e.restore(),e.save(),Object.assign(e,{globalCompositeOperation:"screen",fillStyle:i}),e.fill(),e.restore();for(const n of l){const t=n.enabled,o=n.color,s=n.position,r=s.x,a=s.y,d=n.bounds,c=d.left,m=d.top,h=d.width,g=d.height,p=d.center;if(!t)continue;const v=ll(u,p),f=Math.atan2(v.y,v.x),b=4,y=nl({x:Math.cos(f)*b,y:Math.sin(f)*b},p),w=nl({x:Math.cos(f+Math.PI)*b,y:Math.sin(f+Math.PI)*b},p),C=n=>{el(e,c,m,h,g,r===l.width-1&&0===a?16:4,r===l.width-1&&a===l.height-1?16:4,0===r&&a===l.height-1?16:4,0===r&&0===a?16:4,n)};e.beginPath(),C(!1),e.closePath(),e.save(),Object.assign(e,{fillStyle:"#6c6",strokeStyle:"#363"}),e.fill(),e.stroke(),e.restore(),e.save(),e.clip(),e.save(),Object.assign(e,{globalCompositeOperation:"screen",fillStyle:i}),e.fill(),e.restore(),e.save(),e.beginPath(),e.rect(l.bounds.left,l.bounds.top,l.bounds.width,l.bounds.height),C(!0),e.closePath(),Object.assign(e,{fillStyle:"#000",shadowColor:"rgba(0,0,0,.4)",shadowBlur:b,shadowOffsetX:p.x-y.x,shadowOffsetY:p.y-y.y}),e.fill(),e.restore();const R=.5*Math.min(h,g);if(null!==o){const l=0===o,n=e.createRadialGradient(p.x,p.y,0,l?w.x:y.x,l?w.y:y.y,R),t=l?"255,255,255":"0,0,0";n.addColorStop(0,`rgba(${t},0)`),n.addColorStop(.5,`rgba(${t},.1)`),n.addColorStop(.75,`rgba(${t},0)`),n.addColorStop(1,`rgba(${t},.75)`),e.beginPath(),e.arc(p.x,p.y,.8*R,0,2*Math.PI),e.save(),Object.assign(e,{fillStyle:l?"#111":"#fff"}),e.fill(),e.restore(),e.save(),Object.assign(e,{lineWidth:1,strokeStyle:"rgba(0,0,0,.5)"}),e.stroke(),e.restore(),e.save(),Object.assign(e,{globalCompositeOperation:l?"screen":"multiply",fillStyle:n}),e.fill(),e.restore()}e.restore()}const s=this.lastMove;if(s){const n=l.get(s).bounds;e.save();const t=5,o=7,u={x:n.right-t-o,y:n.top+t+o},i=e.createRadialGradient(u.x,u.y,0,u.x,u.y,t);i.addColorStop(0,"hsl(180,0%,50%)"),i.addColorStop(.5,"hsl(180,100%,50%)"),i.addColorStop(1,"hsl(180,0%,50%)"),e.fillStyle=i,e.beginPath(),e.ellipse(n.right-t-o,n.top+t+o,t,t,0,0,2*Math.PI),e.fill(),e.closePath(),e.restore()}}handleEvent(l,{clientX:n,clientY:e}){const t=this.board,o={x:n,y:e},u=function(l,{x:n,y:e}){const t=l.width,o=l.height,u=l.getBoundingClientRect();return{x:(n-u.left)*(t/u.width),y:(e-u.top)*(o/u.height)}}(this.canvas,{x:n,y:e}),i=t.hitTest(u),s=i&&i.position||null;l.emit({square:i,position:{screen:o,canvas:u,board:s}})}}var ol=[["canvas[_ngcontent-%COMP%] { object-fit: contain; width: 100%; height: 100%; }"]],ul=s["ɵcrt"]({encapsulation:0,styles:ol,data:{}});function il(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{canvasElementRef:0}),(l()(),s["ɵeld"](1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),s["ɵeld"](2,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),s["ɵeld"](3,0,[[1,0],["canvasElement",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],[[null,"mousemove"],[null,"click"],[null,"touch"]],function(l,n,e){var t=!0,o=l.component;"mousemove"===n&&(t=!1!==o.handleEvent(o.mousemove,e)&&t);"click"===n&&(t=!1!==o.handleEvent(o.click,e)&&t);"touch"===n&&(t=!1!==o.handleEvent(o.click,e.touches[0])&&t);return t},null,null))],null,function(l,n){var e=n.component;l(n,3,0,null==e.board?null:e.board.bounds.width,null==e.board?null:e.board.bounds.height)})}e(68),e(116),e(113);function sl(l,{x:n,y:e}){if(!Number.isSafeInteger(n)||!Number.isSafeInteger(e))throw new Error(`(${n}, ${e}) is not valid`);if(!l.boundsCheck({x:n,y:e}))throw new Error(`(${n}, ${e}) is out of bounds`)}class rl{constructor(l,n){this.width=l,this.height=n,this.data=new Map}boundsCheck({x:l,y:n}){const e=this.width,t=this.height;return l>=0&&l<e&&n>=0&&n<t}get({x:l,y:n}){sl(this,{x:l,y:n});const e=JSON.stringify({x:l,y:n});return this.data.get(e)}set({x:l,y:n},e){sl(this,{x:l,y:n});const t=JSON.stringify({x:l,y:n});this.data.set(t,e)}[Symbol.iterator](){return function*(){const l=this.width,n=this.height;for(let e=0;e<l;++e)for(let l=0;l<n;++l)yield this.get({x:e,y:l})}.call(this)}}class al{constructor(l,n,e,t){this.left=l,this.top=n,this.width=e,this.height=t}get bottom(){return this.top+this.height}get right(){return this.left+this.width}get center(){const l=this.left,n=this.top;return{x:l+.5*this.width,y:n+.5*this.height}}get n(){const l=this.left,n=this.top;return{x:l+.5*this.width,y:n}}get ne(){const l=this.left,n=this.top;return{x:l+this.width,y:n}}get e(){const l=this.left,n=this.top;return{x:l+this.width,y:n+.5*this.height}}get se(){const l=this.left,n=this.top;return{x:l+this.width,y:n+this.height}}get s(){const l=this.left,n=this.top;return{x:l+.5*this.width,y:n+this.height}}get sw(){return{x:this.left,y:this.top+this.height}}get w(){return{x:this.left,y:this.top+.5*this.height}}get nw(){return{x:this.left,y:this.top}}hitTest({x:l,y:n}){const e=this.top,t=this.right,o=this.bottom;return l>=this.left&&l<=t&&n>=e&&n<=o}}class dl{constructor(l,n){this.position=l,this.bounds=n,this.enabled=!0,this.color=null}get empty(){return null===this.color}}var cl=e(96);class ml{constructor(){this.bounds=new al(0,0,0,0),this.grid=new rl(0,0)}reset({width:l,height:n}){const e=new rl(l,n),t=64,o=64,u=6,i=6,s=new al(.5,.5,1+l*(t+u)+u,1+n*(o+i)+i);for(let s=0;s<l;++s)for(let l=0;l<n;++l){const n={x:s,y:l},r=new al(.5+s*(t+u)+u,.5+l*(o+i)+i,.5+t,.5+o);e.set({x:s,y:l},new dl(n,r))}Object.assign(this,{grid:e,bounds:s})}get width(){return this.grid.width}get height(){return this.grid.height}get({x:l,y:n}){return this.grid.get({x:l,y:n})}boundsCheck({x:l,y:n}){return this.grid.boundsCheck({x:l,y:n})}getData(){return Object.freeze(Array.from(this.grid).map(l=>l.empty?null:l.color))}setData(l){for(const n of Object(cl.zip)(l,Array.from(this.grid))){const l=n[0];n[1].color=l}}getGameState(l){return{index:l,data:this.getData()}}getMask(){return Object.freeze(Array.from(this.grid).map(l=>l.enabled))}setMask(l){for(const n of Object(cl.zip)(l,Array.from(this.grid))){const l=n[0];n[1].enabled=l}}static fromGame(l,n){const e=new ml;return e.reset(l.size),e.setData(n.data),e.setMask(l.mask),e}[Symbol.iterator](){return this.grid[Symbol.iterator]()}hitTest(l){for(const n of this)if(n.bounds.hitTest(l))return n;return null}}function hl(l){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},t=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.forEach(function(n){gl(l,n,e[n])})}return l}function gl(l,n,e){return n in l?Object.defineProperty(l,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[n]=e,l}const pl=[{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0},{x:-1,y:-1}];function vl(l,n,e){if(!l.boundsCheck(n))return[];const t=l.get(n);if(!t||!t.empty||!t.enabled)return[];function o({x:n,y:t},o){const u=[];for(;;){if(n+=o.x,t+=o.y,!l.boundsCheck({x:n,y:t}))return[];const i=l.get({x:n,y:t});if(!i||i.empty||!i.enabled)return[];if(i.color===e)return u;u.push(i)}}let u=[t];for(const l of pl)u=[...u,...o(n,l)];return u.length<=1?[]:u}class fl{constructor(){this.name="Standard",this.ruleSet="standard",this.colors=2,this.boardSize=Object.freeze({width:8,height:8})}isValid(l,n,e,t){return vl(ml.fromGame(l,n),e,t).length>0}compareScores(l,n){return l-n}getValidMoves(l,n,e){const t=[],o=l.size,u=o.width,i=o.height;for(let o=0;o<u;++o)for(let u=0;u<i;++u){const i={x:o,y:u};this.isValid(l,n,i,e)&&t.push(i)}return t}isGameOver(l,n){const e=this.colors;for(let t=0;t<e;++t)if(this.getValidMoves(l,n,t).length>0)return!1;return!0}makeMove(l,n,e){const t=n.turn,o=n.index,u=ml.fromGame(l,n),i=vl(u,e,t);if(0===i.length)return null;for(const l of i)l.color=t;const s=o+1,r=Object.freeze(hl({},e)),a=u.getData(),d=this.colors;let c=null;for(let n=0;n<d;++n){const e=(t+1+n)%d;if(this.getValidMoves(l,{turn:e,index:s,data:a,lastMove:r},e).length>0){c=e;break}}return{turn:c,index:s,data:a,lastMove:r}}getScore(l,n,e){const t=ml.fromGame(l,n);let o=0;for(const l of t)l&&l.enabled&&l.color===e&&++o;return o}newGame(l){const n=this.boardSize,e=new ml;e.reset(n),e.get({x:3,y:3}).color=0,e.get({x:4,y:3}).color=1,e.get({x:3,y:4}).color=1,e.get({x:4,y:4}).color=0;const t=[{turn:0,index:0,data:e.getData(),lastMove:null}];return{gameId:l,ruleSet:this.ruleSet,mask:e.getMask(),colors:Object.freeze(["black","white"]),size:Object.freeze(hl({},n)),gameStates:Object.freeze(t)}}}const bl=new fl,yl=[bl,new class extends fl{constructor(){super(...arguments),this.name="Reversed",this.ruleSet="reversed"}compareScores(l,n){return n-l}}],wl=new Map;for(const l of yl)wl.set(l.ruleSet,l);class Cl{constructor(l,n){this.gameService=l,this.zone=n,this.ruleSets=yl}show(l){const n=this.newGameModal;this.zone.run(()=>{this.roomId=l.roomId,n.show()})}hide(){const l=this.newGameModal;this.zone.run(()=>{this.roomId=null,l.hide()})}async newGame(){const l=this.gameService,n=this.roomId,e=this.ruleSet;this.hide(),await l.newGame(n,e)}}var Rl=e(205),xl=e(206);function Sl(l,n,e){return n in l?Object.defineProperty(l,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[n]=e,l}const Ol=(...l)=>Object(xl.a)(["next","error","complete"].reduce((n,e)=>(function(l){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},t=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.forEach(function(n){Sl(l,n,e[n])})}return l})({},n,{[e]:console.log.bind(console,...l,e)}),{}));class kl{constructor(l,n){this.scheduler=l,this.sessionService=n,this.destroyed=new a.a,this.allGames=n.getEvents("update").pipe(Object(m.a)(this.destroyed),Object(D.a)((l,n)=>{const e=[...l],t=e.findIndex(l=>l.gameId===n.gameId);return t>=0?e.splice(t,1,n):e.push(n),e},[]),Object(Rl.a)(1)),this.allGames.pipe(Ol("allGames")).subscribe()}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}getGames(){const l=this.allGames,n=this.scheduler;return l.pipe(Object(q.b)(n))}async newGame(l,n){const e=this.sessionService;return await e.emit("newGame",{roomId:l,ruleSet:n})}async makeMove(l,n){const e=this.sessionService;await e.emit("makeMove",{roomId:l,position:n})}}var Ml=[[""]],jl=s["ɵcrt"]({encapsulation:0,styles:Ml,data:{}});function Il(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,11,"div",[["class","form-check-inline"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,10,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),s["ɵeld"](2,0,null,null,8,"input",[["class","form-check-input"],["name","ruleSet"],["required","required"],["type","radio"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var t=!0,o=l.component;"input"===n&&(t=!1!==s["ɵnov"](l,3)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,3).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,3)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,3)._compositionEnd(e.target.value)&&t);"change"===n&&(t=!1!==s["ɵnov"](l,4).onChange()&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,4).onTouched()&&t);"ngModelChange"===n&&(t=!1!==(o.ruleSet=e)&&t);return t},null,null)),s["ɵdid"](3,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵdid"](4,212992,null,0,I.l,[s.Renderer2,s.ElementRef,I.p,s.Injector],{name:[0,"name"],value:[1,"value"]},null),s["ɵdid"](5,16384,null,0,I.m,[],{required:[0,"required"]},null),s["ɵprd"](1024,null,I.e,function(l){return[l]},[I.m]),s["ɵprd"](1024,null,I.f,function(l,n){return[l,n]},[I.c,I.l]),s["ɵdid"](8,671744,null,0,I.k,[[2,I.b],[6,I.e],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](10,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵted"](11,null,[" "," "]))],function(l,n){var e=n.component;l(n,4,0,"ruleSet",n.context.$implicit.ruleSet);l(n,5,0,"required");l(n,8,0,"ruleSet",e.ruleSet)},function(l,n){l(n,2,0,s["ɵnov"](n,5).required?"":null,s["ɵnov"](n,10).ngClassUntouched,s["ɵnov"](n,10).ngClassTouched,s["ɵnov"](n,10).ngClassPristine,s["ɵnov"](n,10).ngClassDirty,s["ɵnov"](n,10).ngClassValid,s["ɵnov"](n,10).ngClassInvalid,s["ɵnov"](n,10).ngClassPending),l(n,11,0,n.context.$implicit.name)})}function Pl(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{newGameModal:0}),(l()(),s["ɵeld"](1,16777216,null,null,19,"div",[["aria-hidden","true"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==s["ɵnov"](l,2).onClick(e)&&t);"keydown.esc"===n&&(t=!1!==s["ɵnov"](l,2).onEsc(e)&&t);return t},null,null)),s["ɵdid"](2,212992,[[1,4],["newGameModal",4]],0,R.a,[s.ElementRef,s.ViewContainerRef,s.Renderer2,x.a],null,null),(l()(),s["ɵeld"](3,0,null,null,17,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(l()(),s["ɵeld"](4,0,null,null,16,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),s["ɵeld"](5,0,null,null,2,"modal-header",[],null,[[null,"closeClick"]],function(l,n,e){var t=!0;"closeClick"===n&&(t=!1!==s["ɵnov"](l,2).hide()&&t);return t},j,k)),s["ɵdid"](6,49152,null,0,S,[],null,{closeClick:"closeClick"}),(l()(),s["ɵted"](-1,0,[" New Game "])),(l()(),s["ɵeld"](8,0,null,null,12,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),s["ɵeld"](9,0,null,null,11,"form",[["autocomplete","off"],["class","clearfix"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0,o=l.component;"submit"===n&&(t=!1!==s["ɵnov"](l,11).onSubmit(e)&&t);"reset"===n&&(t=!1!==s["ɵnov"](l,11).onReset()&&t);"ngSubmit"===n&&(t=!1!==o.newGame()&&t);return t},null,null)),s["ɵdid"](10,16384,null,0,I.o,[],null,null),s["ɵdid"](11,4210688,[["newGameForm",4]],0,I.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s["ɵprd"](2048,null,I.b,null,[I.j]),s["ɵdid"](13,16384,null,0,I.i,[[4,I.b]],null,null),(l()(),s["ɵeld"](14,0,null,null,4,"fieldset",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](15,0,null,null,1,"legend",[],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["Rule Set"])),(l()(),s["ɵand"](16777216,null,null,1,null,Il)),s["ɵdid"](18,802816,null,0,C.c,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),s["ɵeld"](19,0,null,null,1,"button",[["class","btn float-right"]],[[8,"disabled",0]],null,null,null,null)),(l()(),s["ɵted"](-1,null,[" Start "]))],function(l,n){var e=n.component;l(n,2,0),l(n,18,0,e.ruleSets)},function(l,n){l(n,9,0,s["ɵnov"](n,13).ngClassUntouched,s["ɵnov"](n,13).ngClassTouched,s["ɵnov"](n,13).ngClassPristine,s["ɵnov"](n,13).ngClassDirty,s["ɵnov"](n,13).ngClassValid,s["ɵnov"](n,13).ngClassInvalid,s["ɵnov"](n,13).ngClassPending),l(n,19,0,!s["ɵnov"](n,11).form.valid)})}var Tl=e(131);const _l=bl;class El{constructor(l,n,e){this.gameService=l,this.roomService=n,this.scheduler=e,this.turn=null,this.room=null,this.game=null,this.gameState=null,this.lastMove=null,this.board=new ml,this.rules=null,this.destroyed=new a.a}ngOnInit(){const l=this.gameService,n=this.roomService,e=this.destroyed,t=this.scheduler,o=n.getCurrentRoom();o.subscribe(l=>{this.room=l||null}),Object(E.a)(l.getGames(),o,(l,n)=>n&&l.filter(l=>l.gameId===n.gameId)[0]||null).pipe(Object(m.a)(e),Object(q.b)(t)).subscribe(l=>{if(this.game=l,l){const n=this.gameState=l.gameStates.slice(-1)[0];this.board=ml.fromGame(l,n),this.lastMove=n.lastMove,null==n.turn?this.turn=null:this.turn=Tl.a[l.colors[n.turn]].displayName}else this.gameState=null,this.board=null,this.lastMove=null,this.turn=null})}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}onMouseMove({square:l}){if(!l)return;const n=this.game,e=this.gameState;document.documentElement.style.cursor=_l.isGameOver(n,e)||_l.isValid(n,e,l.position,e.turn)?"pointer":null}onClick({square:l}){if(!l)return;const n=this.room,e=this.game,t=this.gameState,o=this.gameService,u=this.newGameModal;_l.isGameOver(e,t)?u.show(n):o.makeMove(n.roomId,l.position)}}var ql=e(18),Nl=[["canvas[_ngcontent-%COMP%] { max-width: 100%; }"]],Dl=s["ɵcrt"]({encapsulation:0,styles:Nl,data:{}});function Vl(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,[" Game Over "]))],null,null)}function Gl(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),s["ɵted"](1,null,[" ","’s Turn "]))],null,function(l,n){l(n,1,0,n.component.turn)})}function Ll(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),s["ɵeld"](2,0,null,null,1,"board",[],null,[[null,"click"],[null,"mousemove"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.onClick(e)&&t);"mousemove"===n&&(t=!1!==o.onMouseMove(e)&&t);return t},il,ul)),s["ɵdid"](3,4964352,null,0,tl,[],{board:[0,"board"],lastMove:[1,"lastMove"]},{click:"click",mousemove:"mousemove"}),(l()(),s["ɵeld"](4,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),s["ɵeld"](5,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),s["ɵand"](16777216,null,null,1,null,Vl)),s["ɵdid"](7,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵand"](16777216,null,null,1,null,Gl)),s["ɵdid"](9,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.board,e.lastMove),l(n,7,0,null==e.turn),l(n,9,0,null!=e.turn)},null)}function Hl(l){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{newGameModal:0}),(l()(),s["ɵand"](16777216,null,null,1,null,Ll)),s["ɵdid"](2,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵeld"](3,0,null,null,1,"modal-new-game",[],null,null,null,Pl,jl)),s["ɵdid"](4,49152,[[1,4],["newGameModal",4]],0,Cl,[kl,s.NgZone],null,null)],function(l,n){l(n,2,0,n.component.game)},null)}var Al=e(58);class zl{constructor(l){this.roomService=l,this.messages=[],this.text=""}ngOnInit(){const l=this.roomService,n=l.getCurrentRoom(),e=l.getMessages();n.subscribe(l=>{this.room=l}),Object(E.a)(n,e,(l,n)=>l?n.filter(n=>n.roomId===l.roomId):[]).subscribe(l=>{this.messages=l})}async sendMessage(){const l=this.roomService,n=this.room,e=this.text;n&&e&&(this.text="",await l.sendMessage(n.roomId,e))}}var Fl=[[".list-group[_ngcontent-%COMP%] { height: 50vh; overflow-y: auto; }\n\n.list-group[_ngcontent-%COMP%]   .list-group-item-text[_ngcontent-%COMP%] { white-space: pre-wrap; }"]],$l=s["ɵcrt"]({encapsulation:0,styles:Fl,data:{}});function Zl(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"h4",[["class","list-group-item-heading text-muted"]],null,null,null,null,null)),(l()(),s["ɵted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.user)})}function Jl(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,4,"div",[["class","list-group-item"]],null,null,null,null,null)),(l()(),s["ɵand"](16777216,null,null,1,null,Zl)),s["ɵdid"](2,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵeld"](3,0,null,null,1,"p",[["class","list-group-item-text mb-0"]],null,null,null,null,null)),(l()(),s["ɵted"](4,null,["",""]))],function(l,n){l(n,2,0,n.context.$implicit.user)},function(l,n){l(n,4,0,n.context.$implicit.message)})}function Ul(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,20,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),s["ɵeld"](2,0,null,null,19,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0,o=l.component;"submit"===n&&(t=!1!==s["ɵnov"](l,4).onSubmit(e)&&t);"reset"===n&&(t=!1!==s["ɵnov"](l,4).onReset()&&t);"ngSubmit"===n&&(t=!1!==o.sendMessage()&&t);return t},null,null)),s["ɵdid"](3,16384,null,0,I.o,[],null,null),s["ɵdid"](4,4210688,[["messageForm",4]],0,I.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s["ɵprd"](2048,null,I.b,null,[I.j]),s["ɵdid"](6,16384,null,0,I.i,[[4,I.b]],null,null),(l()(),s["ɵeld"](7,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](8,0,null,null,13,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),s["ɵeld"](9,0,null,null,7,"input",[["autocomplete","off"],["class","form-control"],["name","text"],["placeholder","Enter message"],["required","required"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;"input"===n&&(t=!1!==s["ɵnov"](l,10)._handleInput(e.target.value)&&t);"blur"===n&&(t=!1!==s["ɵnov"](l,10).onTouched()&&t);"compositionstart"===n&&(t=!1!==s["ɵnov"](l,10)._compositionStart()&&t);"compositionend"===n&&(t=!1!==s["ɵnov"](l,10)._compositionEnd(e.target.value)&&t);"ngModelChange"===n&&(t=!1!==(o.text=e)&&t);return t},null,null)),s["ɵdid"](10,16384,null,0,I.c,[s.Renderer2,s.ElementRef,[2,I.a]],null,null),s["ɵdid"](11,16384,null,0,I.m,[],{required:[0,"required"]},null),s["ɵprd"](1024,null,I.e,function(l){return[l]},[I.m]),s["ɵprd"](1024,null,I.f,function(l){return[l]},[I.c]),s["ɵdid"](14,671744,null,0,I.k,[[2,I.b],[6,I.e],[8,null],[6,I.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["ɵprd"](2048,null,I.g,null,[I.k]),s["ɵdid"](16,16384,null,0,I.h,[[4,I.g]],null,null),(l()(),s["ɵeld"](17,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),s["ɵeld"](18,0,null,null,3,"button",[],[[8,"disabled",0]],null,null,null,null)),(l()(),s["ɵeld"](19,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](20,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),s["ɵpad"](21,2),(l()(),s["ɵeld"](22,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),s["ɵeld"](23,0,null,null,3,"div",[["class","list-group"],["ngx-auto-scroll",""]],null,[[null,"scroll"]],function(l,n,e){var t=!0;"scroll"===n&&(t=!1!==s["ɵnov"](l,24).scrollHandler()&&t);return t},null,null)),s["ɵdid"](24,1196032,null,0,Al.a,[s.ElementRef],null,null),(l()(),s["ɵand"](16777216,null,null,1,null,Jl)),s["ɵdid"](26,802816,null,0,C.c,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,11,0,"required");l(n,14,0,"text",e.text),l(n,20,0,l(n,21,0,"far","comment")),l(n,26,0,e.messages)},function(l,n){l(n,2,0,s["ɵnov"](n,6).ngClassUntouched,s["ɵnov"](n,6).ngClassTouched,s["ɵnov"](n,6).ngClassPristine,s["ɵnov"](n,6).ngClassDirty,s["ɵnov"](n,6).ngClassValid,s["ɵnov"](n,6).ngClassInvalid,s["ɵnov"](n,6).ngClassPending),l(n,9,0,s["ɵnov"](n,11).required?"":null,s["ɵnov"](n,16).ngClassUntouched,s["ɵnov"](n,16).ngClassTouched,s["ɵnov"](n,16).ngClassPristine,s["ɵnov"](n,16).ngClassDirty,s["ɵnov"](n,16).ngClassValid,s["ɵnov"](n,16).ngClassInvalid,s["ɵnov"](n,16).ngClassPending),l(n,18,0,!s["ɵnov"](n,4).form.valid),l(n,19,0,s["ɵnov"](n,20).renderedIconHTML)})}class Bl{}var Wl=s["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Xl(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,1,"game",[["class","col-lg-5 col-sm-6 col-12"]],null,null,null,Hl,Dl)),s["ɵdid"](2,245760,null,0,El,[kl,V,ql.ZoneScheduler],null,null),(l()(),s["ɵeld"](3,0,null,null,1,"chat",[["class","col-lg-7 col-sm-6 col-12"]],null,null,null,Ul,$l)),s["ɵdid"](4,114688,null,0,zl,[V],null,null)],function(l,n){l(n,2,0),l(n,4,0)},null)}class Yl{constructor(l){this.roomService=l,this.rooms=[],this.currentRoom=null,this.destroyed=new a.a}ngOnInit(){const l=this.destroyed,n=this.roomService;n.getJoinedRooms().pipe(Object(m.a)(l)).subscribe(l=>{this.rooms=l}),n.getCurrentRoom().pipe(Object(m.a)(l)).subscribe(l=>{this.currentRoom=l})}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}async setRoom(l){const n=this.roomService;await n.setRoom(l)}async leaveRoom({roomId:l}){const n=this.roomService;await n.leaveRoom(l)}}var Kl=[["nav[_ngcontent-%COMP%] { border-bottom: 1px solid #dee2e6; }\n\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%] { margin-bottom: -1px; }\n\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] { overflow: hidden; height: 42px; }\n\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%] { display: inline-block; max-width: 160px; }"]],Ql=s["ɵcrt"]({encapsulation:0,styles:Kl,data:{}});function ln(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,5,"a",[["class","nav-link"],["href","javascript:"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.setRoom(l.context.$implicit)&&t);return t},null,null)),(l()(),s["ɵeld"](2,0,null,null,1,"span",[["class","text-truncate"]],null,null,null,null,null)),(l()(),s["ɵted"](3,null,[" "," "])),(l()(),s["ɵeld"](4,0,null,null,2,"button",[["class","close ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.leaveRoom(l.context.$implicit)&&t);return t},null,null)),(l()(),s["ɵeld"](5,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","times"],["size","xs"],["transform","up-2"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](6,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"],size:[1,"size"],transform:[2,"transform"]},null)],function(l,n){l(n,6,0,"times","xs","up-2")},function(l,n){var e=n.component;l(n,1,0,(null==e.currentRoom?null:e.currentRoom.roomId)===n.context.$implicit.roomId),l(n,3,0,n.context.$implicit.name),l(n,5,0,s["ɵnov"](n,6).renderedIconHTML)})}function nn(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,8,"nav",[["class","navbar navbar-light bg-light justify-content-start pb-0"]],null,null,null,null,null)),(l()(),s["ɵeld"](1,0,null,null,1,"h1",[["class","navbar-brand py-0"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["r³"])),(l()(),s["ɵeld"](3,0,null,null,5,"ul",[["class","nav nav-tabs border-bottom"]],null,null,null,null,null)),(l()(),s["ɵeld"](4,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),s["ɵeld"](5,0,null,null,1,"a",[["class","nav-link"],["href","javascript:"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0,o=l.component;"click"===n&&(t=!1!==o.setRoom(null)&&t);return t},null,null)),(l()(),s["ɵted"](-1,null,["Lobby"])),(l()(),s["ɵand"](16777216,null,null,1,null,ln)),s["ɵdid"](8,802816,null,0,C.c,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,8,0,n.component.rooms)},function(l,n){l(n,5,0,!n.component.currentRoom)})}var en=s["ɵcrt"]({encapsulation:2,styles:[],data:{}});function tn(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"lobby",[],null,null,null,K,B)),s["ɵdid"](1,245760,null,0,J,[V],null,null)],function(l,n){l(n,1,0)},null)}function on(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"room",[],null,null,null,Xl,Wl)),s["ɵdid"](1,49152,null,0,Bl,[],null,null)],null,null)}function un(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"navigation",[],null,null,null,nn,Ql)),s["ɵdid"](1,245760,null,0,Yl,[V],null,null),(l()(),s["ɵeld"](2,0,null,null,4,"div",[["class","container my-2"]],null,null,null,null,null)),(l()(),s["ɵand"](16777216,null,null,1,null,tn)),s["ɵdid"](4,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵand"](16777216,null,null,1,null,on)),s["ɵdid"](6,16384,null,0,C.d,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵeld"](7,0,null,null,7,"footer",[["class","container d-flex justify-content-end fixed-bottom my-2"]],null,null,null,null,null)),(l()(),s["ɵeld"](8,0,null,null,1,"a",[["class","mx-4"],["href","https://jovalent.com"],["target","_blank"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["Jovalent.com"])),(l()(),s["ɵeld"](10,0,null,null,4,"a",[["class","ml-4"],["href","https://twitter.com/JovalentStudios"],["target","_blank"]],null,null,null,null,null)),(l()(),s["ɵeld"](11,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,b.b,b.a)),s["ɵdid"](12,573440,null,0,y.a,[w.b],{iconProp:[0,"iconProp"]},null),s["ɵpad"](13,2),(l()(),s["ɵted"](-1,null,[" @JovalentStudios "]))],function(l,n){var e=n.component;l(n,1,0),l(n,4,0,!e.currentRoom),l(n,6,0,e.currentRoom),l(n,12,0,l(n,13,0,"fab","twitter"))},function(l,n){l(n,11,0,s["ɵnov"](n,12).renderedIconHTML)})}var sn=s["ɵccf"]("r3",p,function(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"r3",[],null,null,null,un,en)),s["ɵdid"](1,4440064,null,0,p,[kl,V],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),rn=e(12),an=e(50),dn=e(57),cn=e(204),mn=e(130),hn=e.n(mn);class gn{constructor(l){this.scheduler=l,this.destroyed=new a.a;const n=this.destroyed,e=this.socket=hn.a.connect("/",{transports:["websocket","polling"],upgrade:!1});Object(d.a)("connect").pipe(Object(cn.a)(l=>Object(c.a)(e,l)),Object(m.a)(n)).subscribe(console.log.bind(console)),Object(d.a)("error","connect_error","reconnect_error").pipe(Object(cn.a)(l=>Object(c.a)(e,l)),Object(m.a)(n)).subscribe(console.error.bind(console)),n.subscribe(()=>{e.close()})}getEvents(l){const n=this.socket,e=this.scheduler;return Object(c.a)(n,l).pipe(Ol("event",l),Object(q.b)(e))}emit(l,n={}){const e=this.socket;return new Promise((t,o)=>{e.emit(l,n,(l,n)=>{l?o(l):t(n)})})}ngOnDestroy(){this.destroyed.next(!0),this.destroyed.complete()}}var pn=e(94);class vn{}var fn=e(95),bn=s["ɵcmf"](r,[p],function(l){return s["ɵmod"]([s["ɵmpd"](512,s.ComponentFactoryResolver,s["ɵCodegenComponentFactoryResolver"],[[8,[v.a,f.a,sn]],[3,s.ComponentFactoryResolver],s.NgModuleRef]),s["ɵmpd"](5120,s.LOCALE_ID,s["ɵangular_packages_core_core_l"],[[3,s.LOCALE_ID]]),s["ɵmpd"](4608,C.f,C.e,[s.LOCALE_ID,[2,C.j]]),s["ɵmpd"](4608,s.Compiler,s.Compiler,[]),s["ɵmpd"](5120,s.APP_ID,s["ɵangular_packages_core_core_f"],[]),s["ɵmpd"](5120,s.IterableDiffers,s["ɵangular_packages_core_core_j"],[]),s["ɵmpd"](5120,s.KeyValueDiffers,s["ɵangular_packages_core_core_k"],[]),s["ɵmpd"](4608,w.b,w.q,[C.b]),s["ɵmpd"](6144,s.Sanitizer,null,[w.b]),s["ɵmpd"](4608,w.e,w.f,[]),s["ɵmpd"](5120,w.c,function(l,n,e,t,o,u,i){return[new w.j(l,n,e),new w.n(t),new w.m(o,u,i)]},[C.b,s.NgZone,[2,s.PLATFORM_ID],C.b,C.b,w.e,s["ɵConsole"]]),s["ɵmpd"](4608,w.d,w.d,[w.c,s.NgZone]),s["ɵmpd"](135680,w.l,w.l,[C.b]),s["ɵmpd"](4608,w.k,w.k,[w.d,w.l]),s["ɵmpd"](6144,s.RendererFactory2,null,[w.k]),s["ɵmpd"](6144,w.o,null,[w.l]),s["ɵmpd"](4608,s.Testability,s.Testability,[s.NgZone]),s["ɵmpd"](4608,w.g,w.g,[C.b]),s["ɵmpd"](4608,w.h,w.h,[C.b]),s["ɵmpd"](4608,I.p,I.p,[]),s["ɵmpd"](4608,rn.c,rn.c,[]),s["ɵmpd"](4608,rn.g,rn.b,[]),s["ɵmpd"](5120,rn.i,rn.j,[]),s["ɵmpd"](4608,rn.h,rn.h,[rn.c,rn.g,rn.i]),s["ɵmpd"](4608,rn.f,rn.a,[]),s["ɵmpd"](5120,rn.d,rn.k,[rn.h,rn.f]),s["ɵmpd"](4608,an.a,an.a,[]),s["ɵmpd"](4608,x.a,x.a,[s.ComponentFactoryResolver,s.NgZone,s.Injector,an.a,s.ApplicationRef]),s["ɵmpd"](4608,dn.a,dn.a,[s.RendererFactory2,x.a]),s["ɵmpd"](4608,ql.ZoneScheduler,ql.ZoneScheduler,[s.NgZone]),s["ɵmpd"](135680,gn,gn,[ql.ZoneScheduler]),s["ɵmpd"](135680,kl,kl,[ql.ZoneScheduler,gn]),s["ɵmpd"](4608,V,V,[ql.ZoneScheduler,gn]),s["ɵmpd"](1073742336,C.a,C.a,[]),s["ɵmpd"](1024,s.ErrorHandler,w.p,[]),s["ɵmpd"](1024,s.APP_INITIALIZER,function(l){return[w.r(l)]},[[2,s.NgProbeToken]]),s["ɵmpd"](512,s.ApplicationInitStatus,s.ApplicationInitStatus,[[2,s.APP_INITIALIZER]]),s["ɵmpd"](131584,s.ApplicationRef,s.ApplicationRef,[s.NgZone,s["ɵConsole"],s.Injector,s.ErrorHandler,s.ComponentFactoryResolver,s.ApplicationInitStatus]),s["ɵmpd"](1073742336,s.ApplicationModule,s.ApplicationModule,[s.ApplicationRef]),s["ɵmpd"](1073742336,w.a,w.a,[[3,w.a]]),s["ɵmpd"](1073742336,I.n,I.n,[]),s["ɵmpd"](1073742336,I.d,I.d,[]),s["ɵmpd"](1073742336,rn.e,rn.e,[]),s["ɵmpd"](1073742336,pn.a,pn.a,[]),s["ɵmpd"](1073742336,y.e,y.e,[]),s["ɵmpd"](1073742336,vn,vn,[]),s["ɵmpd"](1073742336,Al.b,Al.b,[]),s["ɵmpd"](1073742336,fn.ZoneSchedulerModule,fn.ZoneSchedulerModule,[]),s["ɵmpd"](1073742336,r,r,[]),s["ɵmpd"](256,s["ɵAPP_ROOT"],!0,[])])});"localhost"!==location.hostname&&Object(s.enableProdMode)(),w.i().bootstrapModuleFactory(bn)},140:function(l,n){},199:function(l,n,e){}},[[137,0,1]]]);
//# sourceMappingURL=client.js.map