{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/board.ts.pre-build-optimizer.js","webpack:///./src/board.ts","webpack:///./src/bounds.ts.pre-build-optimizer.js","webpack:///./src/bounds.ts","webpack:///./src/client/app.module.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/app.module.ts.pre-build-optimizer.js","webpack:///./src/client/app.module.ts","webpack:///./src/client/board.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/board.component.html","webpack:///./src/client/board.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/board.component.ts","webpack:///./src/client/canvas.ts.pre-build-optimizer.js","webpack:///./src/client/canvas.ts","webpack:///./src/client/chat.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/chat.component.html","webpack:///./src/client/chat.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/chat.component.ts","webpack:///./src/client/default.scss","webpack:///./src/client/font-awesome.ts","webpack:///./src/client/game.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/game.component.html","webpack:///./src/client/game.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/game.component.ts","webpack:///./src/client/game.service.ts","webpack:///./src/client/lobby.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/lobby.component.html","webpack:///./src/client/lobby.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/lobby.component.ts","webpack:///./src/client/main.ts","webpack:///./src/client/main.ts.pre-build-optimizer.js","webpack:///./src/client/modal/create-room.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/modal/create-room.component.html","webpack:///./src/client/modal/create-room.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/modal/create-room.component.ts","webpack:///./src/client/modal/header.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/modal/header.component.html","webpack:///./src/client/modal/header.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/modal/header.component.ts","webpack:///./src/client/modal/join-room.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/modal/join-room.component.html","webpack:///./src/client/modal/join-room.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/modal/join-room.component.ts","webpack:///./src/client/modal/modal.module.ts.pre-build-optimizer.js","webpack:///./src/client/modal/modal.module.ts","webpack:///./src/client/modal/new-game.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/modal/new-game.component.html","webpack:///./src/client/modal/new-game.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/modal/new-game.component.ts","webpack:///./src/client/navigation.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/navigation.component.html","webpack:///./src/client/navigation.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/client/navigation.component.ts","webpack:///./src/client/polyfills.ts","webpack:///./src/client/r3.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/r3.component.html","webpack:///./src/client/r3.component.ts","webpack:///./src/client/room.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/client/room.component.html","webpack:///./src/client/room.component.ts.pre-build-optimizer.js","webpack:///./src/client/room.component.ts","webpack:///./src/client/room.service.ts","webpack:///./src/client/session.service.ts","webpack:///./src/client/vendor.ts","webpack:///./src/grid.ts.pre-build-optimizer.js","webpack:///./src/grid.ts","webpack:///./src/operators.ts.pre-build-optimizer.js","webpack:///./src/operators.ts","webpack:///./src/rule-sets.ts.pre-build-optimizer.js","webpack:///./src/rule-sets.ts","webpack:///./src/square.ts.pre-build-optimizer.js","webpack:///./src/square.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"client.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport { Grid } from 'src/grid';\nimport { Bounds } from 'src/bounds';\nimport { Square } from 'src/square';\nimport { zip } from 'lodash';\nexport class Board {\n  constructor() {\n    this.bounds = new Bounds(0, 0, 0, 0);\n    this.grid = new Grid(0, 0);\n  }\n\n  reset({\n    width,\n    height\n  }) {\n    const grid = new Grid(width, height),\n          squareSize = {\n      width: 64,\n      height: 64\n    },\n          gutterSize = {\n      width: 6,\n      height: 6\n    },\n          bounds = new Bounds(0.5, 0.5, 1 + width * (squareSize.width + gutterSize.width) + gutterSize.width, 1 + height * (squareSize.height + gutterSize.height) + gutterSize.height);\n\n    for (let x = 0; x < width; ++x) {\n      for (let y = 0; y < height; ++y) {\n        const position = {\n          x,\n          y\n        },\n              bounds = new Bounds(0.5 + x * (squareSize.width + gutterSize.width) + gutterSize.width, 0.5 + y * (squareSize.height + gutterSize.height) + gutterSize.height, 0.5 + squareSize.width, 0.5 + squareSize.height);\n        grid.set({\n          x,\n          y\n        }, new Square(position, bounds));\n      }\n    }\n\n    Object.assign(this, {\n      grid,\n      bounds\n    });\n  }\n\n  get width() {\n    const width = this.grid.width;\n    return width;\n  }\n\n  get height() {\n    const height = this.grid.height;\n    return height;\n  }\n\n  get({\n    x,\n    y\n  }) {\n    const grid = this.grid;\n    return grid.get({\n      x,\n      y\n    });\n  }\n\n  boundsCheck({\n    x,\n    y\n  }) {\n    const grid = this.grid;\n    return grid.boundsCheck({\n      x,\n      y\n    });\n  }\n\n  getData() {\n    return Object.freeze(Array.from(this.grid).map(sq => sq.empty ? null : sq.color));\n  }\n\n  setData(data) {\n    for (const _ref of zip(data, Array.from(this.grid))) {\n      const color = _ref[0];\n      const square = _ref[1];\n      square.color = color;\n    }\n  }\n\n  getGameState(index) {\n    return {\n      index,\n      data: this.getData()\n    };\n  }\n\n  getMask() {\n    return Object.freeze(Array.from(this.grid).map(sq => sq.enabled));\n  }\n\n  setMask(mask) {\n    for (const _ref2 of zip(mask, Array.from(this.grid))) {\n      const enabled = _ref2[0];\n      const square = _ref2[1];\n      square.enabled = enabled;\n    }\n  }\n\n  static fromGame(game, gameState) {\n    const board = new Board();\n    board.reset(game.size);\n    board.setData(gameState.data);\n    board.setMask(game.mask);\n    return board;\n  }\n\n  [Symbol.iterator]() {\n    const grid = this.grid;\n    return grid[Symbol.iterator]();\n  }\n\n  hitTest(pt) {\n    for (const square of this) {\n      if (square.bounds.hitTest(pt)) {\n        return square;\n      }\n    }\n\n    return null;\n  }\n\n}","import { Grid } from 'src/grid';\nimport { Bounds } from 'src/bounds';\nimport { Square } from 'src/square';\nimport { zip } from 'lodash';\n\nexport class Board {\n\tpublic reset( { width, height }: Readonly<Size> ) {\n\t\tconst grid = new Grid<Square>( width, height ),\n\t\t\tsquareSize: Size = { width: 64, height: 64 },\n\t\t\tgutterSize: Size = { width: 6, height: 6 },\n\t\t\tbounds = new Bounds(\n\t\t\t\t0.5,\n\t\t\t\t0.5,\n\t\t\t\t1 + width * ( squareSize.width + gutterSize.width ) + gutterSize.width,\n\t\t\t\t1 + height * ( squareSize.height + gutterSize.height ) + gutterSize.height\n\t\t\t);\n\t\tfor( let x = 0; x < width; ++x ) {\n\t\tfor( let y = 0; y < height; ++y ) {\n\t\t\tconst position = { x, y },\n\t\t\t\tbounds = new Bounds(\n\t\t\t\t\t0.5 + x * ( squareSize.width + gutterSize.width ) + gutterSize.width,\n\t\t\t\t\t0.5 + y * ( squareSize.height + gutterSize.height ) + gutterSize.height,\n\t\t\t\t\t0.5 + squareSize.width,\n\t\t\t\t\t0.5 + squareSize.height\n\t\t\t\t);\n\t\t\tgrid.set( { x, y }, new Square( position, bounds ) );\n\t\t} }\n\t\tObject.assign( this, { grid, bounds } );\n\t}\n\n\tpublic get width() {\n\t\tconst { grid: { width } } = this;\n\t\treturn width;\n\t}\n\n\tpublic get height() {\n\t\tconst { grid: { height } } = this;\n\t\treturn height;\n\t}\n\n\tpublic get( { x, y }: Point ) {\n\t\tconst { grid } = this;\n\t\treturn grid.get( { x, y } )!;\n\t}\n\n\tpublic boundsCheck( { x, y }: Point ) {\n\t\tconst { grid } = this;\n\t\treturn grid.boundsCheck( { x, y } )!;\n\t}\n\n\tpublic getData() {\n\t\treturn Object.freeze( Array.from( this.grid ).map( sq => sq.empty ? null : sq.color ) );\n\t}\n\n\tpublic setData( data: ReadonlyArray<number> ) {\n\t\tfor( const [ color, square ] of zip( data, Array.from( this.grid ) ) ) {\n\t\t\tsquare.color = color;\n\t\t}\n\t}\n\n\tpublic getGameState( index: number ) {\n\t\treturn {\n\t\t\tindex,\n\n\t\t\tdata: this.getData()\n\t\t} as GameState;\n\t}\n\n\tpublic getMask() {\n\t\treturn Object.freeze( Array.from( this.grid ).map( sq => sq.enabled ) );\n\t}\n\n\tpublic setMask( mask: ReadonlyArray<boolean> ) {\n\t\tfor( const [ enabled, square ] of zip( mask, Array.from( this.grid ) ) ) {\n\t\t\tsquare.enabled = enabled;\n\t\t}\n\t}\n\n\tpublic static fromGame( game: Game, gameState: GameState ) {\n\t\tconst board = new Board;\n\t\tboard.reset( game.size );\n\t\tboard.setData( gameState.data );\n\t\tboard.setMask( game.mask );\n\t\treturn board;\n\t}\n\n\tpublic [Symbol.iterator]() {\n\t\tconst { grid } = this;\n\t\treturn grid[ Symbol.iterator ]() as IterableIterator<Square>;\n\t}\n\n\tpublic hitTest( pt: Point ): Square|null {\n\t\tfor( const square of this ) {\n\t\t\tif( square.bounds.hitTest( pt ) ) {\n\t\t\t\treturn square;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic bounds = new Bounds( 0, 0, 0, 0 );\n\tprivate grid = new Grid<Square>( 0, 0 );\n}\n","export class Bounds {\n  constructor(left, top, width, height) {\n    this.left = left;\n    this.top = top;\n    this.width = width;\n    this.height = height;\n  }\n\n  get bottom() {\n    const top = this.top,\n          height = this.height;\n    return top + height;\n  }\n\n  get right() {\n    const left = this.left,\n          width = this.width;\n    return left + width;\n  }\n\n  get center() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height,\n          x = left + width * .5,\n          y = top + height * .5;\n    return {\n      x,\n      y\n    };\n  }\n\n  get n() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          x = left + width * .5,\n          y = top;\n    return {\n      x,\n      y\n    };\n  }\n\n  get ne() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          x = left + width,\n          y = top;\n    return {\n      x,\n      y\n    };\n  }\n\n  get e() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height,\n          x = left + width,\n          y = top + height * .5;\n    return {\n      x,\n      y\n    };\n  }\n\n  get se() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height,\n          x = left + width,\n          y = top + height;\n    return {\n      x,\n      y\n    };\n  }\n\n  get s() {\n    const left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height,\n          x = left + width * .5,\n          y = top + height;\n    return {\n      x,\n      y\n    };\n  }\n\n  get sw() {\n    const left = this.left,\n          top = this.top,\n          height = this.height,\n          x = left,\n          y = top + height;\n    return {\n      x,\n      y\n    };\n  }\n\n  get w() {\n    const left = this.left,\n          top = this.top,\n          height = this.height,\n          x = left,\n          y = top + height * .5;\n    return {\n      x,\n      y\n    };\n  }\n\n  get nw() {\n    const left = this.left,\n          top = this.top,\n          x = left,\n          y = top;\n    return {\n      x,\n      y\n    };\n  }\n\n  hitTest({\n    x,\n    y\n  }) {\n    const top = this.top,\n          right = this.right,\n          bottom = this.bottom,\n          left = this.left;\n    return x >= left && x <= right && y >= top && y <= bottom;\n  }\n\n}","export class Bounds {\n\tpublic constructor(\n\t\tpublic readonly left: number,\n\t\tpublic readonly top: number,\n\t\tpublic readonly width: number,\n\t\tpublic readonly height: number\n\t) {}\n\n\tpublic get bottom() {\n\t\tconst { top, height } = this;\n\t\treturn top + height;\n\t}\n\n\tpublic get right() {\n\t\tconst { left, width } = this;\n\t\treturn left + width;\n\t}\n\n\tpublic get center() {\n\t\tconst { left, top, width, height } = this,\n\t\t\tx = left + width * .5,\n\t\t\ty = top + height * .5;\n\t\treturn { x, y };\n\t}\n\n\tpublic get n() {\n\t\tconst { left, top, width } = this,\n\t\t\tx = left + width * .5,\n\t\t\ty = top;\n\t\treturn { x, y };\n\t}\n\n\tpublic get ne() {\n\t\tconst { left, top, width } = this,\n\t\t\tx = left + width,\n\t\t\ty = top;\n\t\treturn { x, y };\n\t}\n\n\tpublic get e() {\n\t\tconst { left, top, width, height } = this,\n\t\t\tx = left + width,\n\t\t\ty = top + height * .5;\n\t\treturn { x, y };\n\t}\n\n\tpublic get se() {\n\t\tconst { left, top, width, height } = this,\n\t\t\tx = left + width,\n\t\t\ty = top + height;\n\t\treturn { x, y };\n\t}\n\n\tpublic get s() {\n\t\tconst { left, top, width, height } = this,\n\t\t\tx = left + width * .5,\n\t\t\ty = top + height;\n\t\treturn { x, y };\n\t}\n\n\tpublic get sw() {\n\t\tconst { left, top, height } = this,\n\t\t\tx = left,\n\t\t\ty = top + height;\n\t\treturn { x, y };\n\t}\n\n\tpublic get w() {\n\t\tconst { left, top, height } = this,\n\t\t\tx = left,\n\t\t\ty = top + height * .5;\n\t\treturn { x, y };\n\t}\n\n\tpublic get nw() {\n\t\tconst { left, top } = this,\n\t\t\tx = left,\n\t\t\ty = top;\n\t\treturn { x, y };\n\t}\n\n\tpublic hitTest( { x, y }: Point ) {\n\t\tconst { top, right, bottom, left } = this;\n\t\treturn x >= left && x <= right\n\t\t\t&& y >= top && y <= bottom;\n\t}\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./app.module\";\nimport * as i2 from \"./r3.component\";\nimport * as i3 from \"../../node_modules/ngx-bootstrap/modal/modal-backdrop.component.ngfactory\";\nimport * as i4 from \"../../node_modules/ngx-bootstrap/modal/modal-container.component.ngfactory\";\nimport * as i5 from \"./r3.component.ngfactory\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/platform-browser\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@angular/http\";\nimport * as i10 from \"ngx-bootstrap/positioning/positioning.service\";\nimport * as i11 from \"ngx-bootstrap/component-loader/component-loader.factory\";\nimport * as i12 from \"ngx-bootstrap/modal/bs-modal.service\";\nimport * as i13 from \"ngx-zone-scheduler/dist/zone-scheduler\";\nimport * as i14 from \"./session.service\";\nimport * as i15 from \"./game.service\";\nimport * as i16 from \"./room.service\";\nimport * as i17 from \"ngx-bootstrap/modal/modal.module\";\nimport * as i18 from \"@fortawesome/angular-fontawesome\";\nimport * as i19 from \"./modal/modal.module\";\nimport * as i20 from \"ngx-auto-scroll\";\nimport * as i21 from \"ngx-zone-scheduler/dist/zone-scheduler.module\";\nvar AppModuleNgFactory = i0.cmf(i1.AppModule, [i2.R3Component], function (_l) {\n  return i0.mod([i0.mpd(512, i0.ComponentFactoryResolver, i0.CodegenComponentFactoryResolver, [[8, [i3.ModalBackdropComponentNgFactory, i4.ModalContainerComponentNgFactory, i5.R3ComponentNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.mpd(5120, i0.LOCALE_ID, i0.angular_packages_core_core_l, [[3, i0.LOCALE_ID]]), i0.mpd(4608, i6.NgLocalization, i6.NgLocaleLocalization, [i0.LOCALE_ID, [2, i6.angular_packages_common_common_a]]), i0.mpd(4608, i0.Compiler, i0.Compiler, []), i0.mpd(5120, i0.APP_ID, i0.angular_packages_core_core_f, []), i0.mpd(5120, i0.IterableDiffers, i0.angular_packages_core_core_j, []), i0.mpd(5120, i0.KeyValueDiffers, i0.angular_packages_core_core_k, []), i0.mpd(4608, i7.DomSanitizer, i7.angular_packages_platform_browser_platform_browser_e, [i6.DOCUMENT]), i0.mpd(6144, i0.Sanitizer, null, [i7.DomSanitizer]), i0.mpd(4608, i7.HAMMER_GESTURE_CONFIG, i7.HammerGestureConfig, []), i0.mpd(5120, i7.EVENT_MANAGER_PLUGINS, function (p0_0, p0_1, p0_2, p1_0, p2_0, p2_1, p2_2) {\n    return [new i7.DomEventsPlugin(p0_0, p0_1, p0_2), new i7.KeyEventsPlugin(p1_0), new i7.HammerGesturesPlugin(p2_0, p2_1, p2_2)];\n  }, [i6.DOCUMENT, i0.NgZone, [2, i0.PLATFORM_ID], i6.DOCUMENT, i6.DOCUMENT, i7.HAMMER_GESTURE_CONFIG, i0.Console]), i0.mpd(4608, i7.EventManager, i7.EventManager, [i7.EVENT_MANAGER_PLUGINS, i0.NgZone]), i0.mpd(135680, i7.DomSharedStylesHost, i7.DomSharedStylesHost, [i6.DOCUMENT]), i0.mpd(4608, i7.DomRendererFactory2, i7.DomRendererFactory2, [i7.EventManager, i7.DomSharedStylesHost]), i0.mpd(6144, i0.RendererFactory2, null, [i7.DomRendererFactory2]), i0.mpd(6144, i7.SharedStylesHost, null, [i7.DomSharedStylesHost]), i0.mpd(4608, i0.Testability, i0.Testability, [i0.NgZone]), i0.mpd(4608, i7.Meta, i7.Meta, [i6.DOCUMENT]), i0.mpd(4608, i7.Title, i7.Title, [i6.DOCUMENT]), i0.mpd(4608, i8.angular_packages_forms_forms_i, i8.angular_packages_forms_forms_i, []), i0.mpd(4608, i9.BrowserXhr, i9.BrowserXhr, []), i0.mpd(4608, i9.ResponseOptions, i9.BaseResponseOptions, []), i0.mpd(5120, i9.XSRFStrategy, i9.angular_packages_http_http_a, []), i0.mpd(4608, i9.XHRBackend, i9.XHRBackend, [i9.BrowserXhr, i9.ResponseOptions, i9.XSRFStrategy]), i0.mpd(4608, i9.RequestOptions, i9.BaseRequestOptions, []), i0.mpd(5120, i9.Http, i9.angular_packages_http_http_b, [i9.XHRBackend, i9.RequestOptions]), i0.mpd(4608, i10.PositioningService, i10.PositioningService, []), i0.mpd(4608, i11.ComponentLoaderFactory, i11.ComponentLoaderFactory, [i0.ComponentFactoryResolver, i0.NgZone, i0.Injector, i10.PositioningService, i0.ApplicationRef]), i0.mpd(4608, i12.BsModalService, i12.BsModalService, [i0.RendererFactory2, i11.ComponentLoaderFactory]), i0.mpd(4608, i13.ZoneScheduler, i13.ZoneScheduler, [i0.NgZone]), i0.mpd(135680, i14.SessionService, i14.SessionService, [i13.ZoneScheduler]), i0.mpd(135680, i15.GameService, i15.GameService, [i13.ZoneScheduler, i14.SessionService]), i0.mpd(4608, i16.RoomService, i16.RoomService, [i13.ZoneScheduler, i14.SessionService]), i0.mpd(1073742336, i6.CommonModule, i6.CommonModule, []), i0.mpd(1024, i0.ErrorHandler, i7.angular_packages_platform_browser_platform_browser_a, []), i0.mpd(1024, i0.APP_INITIALIZER, function (p0_0) {\n    return [i7.angular_packages_platform_browser_platform_browser_h(p0_0)];\n  }, [[2, i0.NgProbeToken]]), i0.mpd(512, i0.ApplicationInitStatus, i0.ApplicationInitStatus, [[2, i0.APP_INITIALIZER]]), i0.mpd(131584, i0.ApplicationRef, i0.ApplicationRef, [i0.NgZone, i0.Console, i0.Injector, i0.ErrorHandler, i0.ComponentFactoryResolver, i0.ApplicationInitStatus]), i0.mpd(1073742336, i0.ApplicationModule, i0.ApplicationModule, [i0.ApplicationRef]), i0.mpd(1073742336, i7.BrowserModule, i7.BrowserModule, [[3, i7.BrowserModule]]), i0.mpd(1073742336, i8.angular_packages_forms_forms_bb, i8.angular_packages_forms_forms_bb, []), i0.mpd(1073742336, i8.FormsModule, i8.FormsModule, []), i0.mpd(1073742336, i9.HttpModule, i9.HttpModule, []), i0.mpd(1073742336, i17.ModalModule, i17.ModalModule, []), i0.mpd(1073742336, i18.FontAwesomeModule, i18.FontAwesomeModule, []), i0.mpd(1073742336, i19.ModalModule, i19.ModalModule, []), i0.mpd(1073742336, i20.NgxAutoScrollModule, i20.NgxAutoScrollModule, []), i0.mpd(1073742336, i21.ZoneSchedulerModule, i21.ZoneSchedulerModule, []), i0.mpd(1073742336, i1.AppModule, i1.AppModule, []), i0.mpd(256, i0.APP_ROOT, true, [])]);\n});\nexport { AppModuleNgFactory };","export class AppModule {}","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { NgxAutoScrollModule } from 'ngx-auto-scroll';\r\nimport { ZoneSchedulerModule } from 'ngx-zone-scheduler';\r\nimport { BoardComponent } from './board.component';\r\nimport { ChatComponent } from './chat.component';\r\nimport { GameComponent } from './game.component';\r\nimport { GameService } from './game.service';\r\nimport { LobbyComponent } from './lobby.component';\r\nimport { ModalModule } from './modal/modal.module';\r\nimport { NavigationComponent } from './navigation.component';\r\nimport { R3Component } from './r3.component';\r\nimport { RoomComponent } from './room.component';\r\nimport { RoomService } from './room.service';\r\nimport { SessionService } from './session.service';\r\n\r\n@NgModule( {\r\n\timports:      [ BrowserModule, CommonModule, FormsModule, HttpModule, ModalModule, NgxAutoScrollModule, ZoneSchedulerModule, FontAwesomeModule ],\r\n\tdeclarations: [ BoardComponent, ChatComponent, GameComponent, LobbyComponent, NavigationComponent, R3Component, RoomComponent ],\r\n\tproviders:    [ GameService, RoomService, SessionService ],\r\n\tbootstrap:    [ R3Component ]\r\n} )\r\nexport class AppModule {}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./board.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"./board.component\";\nvar styles_BoardComponent = [i0.styles];\nvar RenderType_BoardComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_BoardComponent,\n  data: {}\n});\nexport { RenderType_BoardComponent };\nexport function View_BoardComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    canvasElementRef: 0\n  }), (_l()(), i1.eld(1, 0, null, null, 2, \"div\", [[\"class\", \"row\"]], null, null, null, null, null)), (_l()(), i1.eld(2, 0, null, null, 1, \"div\", [[\"class\", \"col-12\"]], null, null, null, null, null)), (_l()(), i1.eld(3, 0, [[1, 0], [\"canvasElement\", 1]], null, 0, \"canvas\", [], [[8, \"width\", 0], [8, \"height\", 0]], [[null, \"mousemove\"], [null, \"click\"], [null, \"touch\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"mousemove\" === en) {\n      var pd_0 = _co.handleEvent(_co.mousemove, $event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"click\" === en) {\n      var pd_1 = _co.handleEvent(_co.click, $event) !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"touch\" === en) {\n      var pd_2 = _co.handleEvent(_co.click, $event.touches[0]) !== false;\n      ad = pd_2 && ad;\n    }\n\n    return ad;\n  }, null, null))], null, function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.board == null ? null : _co.board.bounds.width;\n    var currVal_1 = _co.board == null ? null : _co.board.bounds.height;\n\n    _ck(_v, 3, 0, currVal_0, currVal_1);\n  });\n}\nexport function View_BoardComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"board\", [], null, null, null, View_BoardComponent_0, RenderType_BoardComponent)), i1.did(1, 4964352, null, 0, i2.BoardComponent, [], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar BoardComponentNgFactory = i1.ccf(\"board\", i2.BoardComponent, View_BoardComponent_Host_0, {\n  board: \"board\",\n  lastMove: \"lastMove\"\n}, {\n  click: \"click\",\n  mousemove: \"mousemove\"\n}, []);\nexport { BoardComponentNgFactory };","<div class=\"row\"> <div class=\"col-12\"> <canvas [width]=\"board?.bounds.width\" [height]=\"board?.bounds.height\" (mousemove)=\"handleEvent(mousemove,$event)\" (click)=\"handleEvent(click,$event)\" (touch)=\"handleEvent(click,$event.touches[0])\" #canvasElement> </canvas> </div> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"canvas[_ngcontent-%COMP%] { object-fit: contain; width: 100%; height: 100%; }\"];\nexport { styles };","import { Board } from 'src/board';\r\nimport { AfterViewInit, Component, ViewChild, ElementRef, Input, Output, OnChanges, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { screenToCanvas } from './canvas';\r\nimport { Subject, animationFrameScheduler, range } from 'rxjs';\r\nimport { take, observeOn } from 'rxjs/operators';\r\n\r\nfunction toCartesian( { x, y }: Point, center: Point ) {\r\n\treturn { x: x - center.x, y: center.y - y };\r\n}\r\n\r\nfunction fromCartesian( { x, y }: Point, center: Point ) {\r\n\treturn { x: x + center.x, y: center.y - y };\r\n}\r\n\r\nfunction drawRect(\r\n\tc2d: CanvasRenderingContext2D,\r\n\tx: number,\r\n\ty: number,\r\n\twidth: number,\r\n\theight: number,\r\n\tr1: number,\r\n\tr2: number,\r\n\tr3: number,\r\n\tr4: number,\r\n\tccw = false\r\n) {\r\n\tif( ccw ) {\r\n\t\tc2d.moveTo( x + r4, y );\r\n\t\tc2d.quadraticCurveTo( x, y, x, y + r4 );\r\n\t\tc2d.lineTo( x, y + height - r3 );\r\n\t\tc2d.quadraticCurveTo( x, y + height, x + r3, y + height );\r\n\t\tc2d.lineTo( x + width - r2, y + height );\r\n\t\tc2d.quadraticCurveTo( x + width, y + height, x + width, y + height - r2 );\r\n\t\tc2d.lineTo( x + width, y + r1 );\r\n\t\tc2d.quadraticCurveTo( x + width, y, x + width - r1, y );\r\n\t\tc2d.lineTo( x + r4, y );\r\n\t} else {\r\n\t\tc2d.moveTo( x + r4, y );\r\n\t\tc2d.lineTo( x + width - r1, y );\r\n\t\tc2d.quadraticCurveTo( x + width, y, x + width, y + r1 );\r\n\t\tc2d.lineTo( x + width, y + height - r2 );\r\n\t\tc2d.quadraticCurveTo( x + width, y + height, x + width - r2, y + height );\r\n\t\tc2d.lineTo( x + r3, y + height );\r\n\t\tc2d.quadraticCurveTo( x, y + height, x, y + height - r3 );\r\n\t\tc2d.lineTo( x, y + r4 );\r\n\t\tc2d.quadraticCurveTo( x, y, x + r4, y );\r\n\t}\r\n}\r\n\r\n@Component( {\r\n\tselector: 'board',\r\n\ttemplateUrl: './board.component.html',\r\n\tstyleUrls: [ './board.component.scss' ]\r\n} )\r\nexport class BoardComponent implements AfterViewInit, OnChanges, OnDestroy, OnInit {\r\n\tpublic ngAfterViewInit() {\r\n\t\tconst canvas = this.canvas = this.canvasElementRef.nativeElement;\r\n\t\tthis.c2d = canvas.getContext( '2d' );\r\n\t\tthis.dirty.next( true );\r\n\t}\r\n\r\n\tpublic ngOnChanges() {\r\n\t\tthis.dirty.next( true );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tconst { dirty } = this;\r\n\t\tdirty.complete();\r\n\t}\r\n\r\n\tpublic ngOnInit() {\r\n\t\tthis.dirty\r\n\t\t.pipe( observeOn( animationFrameScheduler ) )\r\n\t\t.subscribe( () => { this.render(); } );\r\n\t}\r\n\r\n\t@ViewChild( 'canvasElement' )\r\n\tprivate canvasElementRef: ElementRef;\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate c2d: CanvasRenderingContext2D;\r\n\tprivate readonly dirty = new Subject<true>();\r\n\r\n\t@Input()\r\n\tpublic board: Board;\r\n\r\n\t@Input()\r\n\tpublic lastMove: null|Point = null;\r\n\r\n\t@Output()\r\n\tpublic click = new EventEmitter<BoardMouseEvent>();\r\n\r\n\t@Output()\r\n\tpublic mousemove = new EventEmitter<BoardMouseEvent>();\r\n\r\n\tprivate render() {\r\n\t\tconst { board } = this;\r\n\t\tif( !board ) return;\r\n\t\tconst { canvas, c2d } = this,\r\n\t\t\t{ width, height } = canvas,\r\n\t\t\tlightSource: Point = {\r\n\t\t\t\tx: board.bounds.left + board.bounds.width * .25,\r\n\t\t\t\ty: board.bounds.top + board.bounds.height * .25\r\n\t\t\t};\r\n\t\tc2d.clearRect( 0, 0, width, height );\r\n\r\n\t\tconst squareGradient = c2d.createRadialGradient(\r\n\t\t\tlightSource.x,\r\n\t\t\tlightSource.y,\r\n\t\t\t0,\r\n\t\t\tboard.bounds.center.x,\r\n\t\t\tboard.bounds.center.y,\r\n\t\t\tMath.min( board.bounds.width, board.bounds.height ) * .7\r\n\t\t);\r\n\t\tsquareGradient.addColorStop(  0, 'rgba(255,255,255,.2)' );\r\n\t\tsquareGradient.addColorStop( .4, 'rgba(255,255,255,0)' );\r\n\r\n\t\tc2d.beginPath();\r\n\t\tdrawRect( c2d, board.bounds.left, board.bounds.top, board.bounds.width, board.bounds.height, 20, 20, 20, 20 );\r\n\t\tc2d.closePath();\r\n\r\n\t\tc2d.save();\r\n\t\tObject.assign( c2d, {\r\n\t\t\tfillStyle: '#3a3'\r\n\t\t} );\r\n\t\tc2d.fill();\r\n\t\tc2d.restore();\r\n\r\n\t\tc2d.save();\r\n\t\tObject.assign( c2d, {\r\n\t\t\tglobalCompositeOperation: 'screen',\r\n\t\t\tfillStyle: squareGradient\r\n\t\t} );\r\n\t\tc2d.fill();\r\n\t\tc2d.restore();\r\n\t\tfor( const { enabled, color, position: { x, y }, bounds: { left, top, width, height, center } } of board ) {\r\n\t\t\tif( !enabled ) { continue; }\r\n\t\t\tconst lightSourceCart = toCartesian( lightSource, center ),\r\n\t\t\t\t\tlightDirection = Math.atan2( lightSourceCart.y, lightSourceCart.x ),\r\n\t\t\t\t\tlightDistance = 4,\r\n\t\t\t\t\tshadowCenter = fromCartesian( {\r\n\t\t\t\t\t\tx: Math.cos( lightDirection ) * lightDistance,\r\n\t\t\t\t\t\ty: Math.sin( lightDirection ) * lightDistance\r\n\t\t\t\t\t}, center ),\r\n\t\t\t\t\tlightCenter = fromCartesian( {\r\n\t\t\t\t\t\tx: Math.cos( lightDirection + Math.PI ) * lightDistance,\r\n\t\t\t\t\t\ty: Math.sin( lightDirection + Math.PI ) * lightDistance\r\n\t\t\t\t\t}, center ),\r\n\t\t\t\tpath = ccw => {\r\n\t\t\t\t\tdrawRect( c2d, left, top, width, height,\r\n\t\t\t\t\t\tx === board.width - 1 && y === 0                ? 16 : 4,\r\n\t\t\t\t\t\tx === board.width - 1 && y === board.height - 1 ? 16 : 4,\r\n\t\t\t\t\t\tx === 0               && y === board.height - 1 ? 16 : 4,\r\n\t\t\t\t\t\tx === 0               && y === 0                ? 16 : 4,\r\n\t\t\t\t\t\tccw\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\t\t\tc2d.beginPath();\r\n\t\t\tpath( false );\r\n\t\t\tc2d.closePath();\r\n\r\n\t\t\tc2d.save();\r\n\t\t\tObject.assign( c2d, {\r\n\t\t\t\tfillStyle: '#6c6',\r\n\t\t\t\tstrokeStyle: '#363'\r\n\t\t\t} );\r\n\t\t\tc2d.fill();\r\n\t\t\tc2d.stroke();\r\n\t\t\tc2d.restore();\r\n\r\n\t\t\tc2d.save();\r\n\t\t\tc2d.clip();\r\n\r\n\t\t\tc2d.save();\r\n\t\t\tObject.assign( c2d, {\r\n\t\t\t\tglobalCompositeOperation: 'screen',\r\n\t\t\t\tfillStyle: squareGradient\r\n\t\t\t} );\r\n\t\t\tc2d.fill();\r\n\t\t\tc2d.restore();\r\n\r\n\t\t\tc2d.save();\r\n\t\t\tc2d.beginPath();\r\n\t\t\tc2d.rect( board.bounds.left, board.bounds.top, board.bounds.width, board.bounds.height );\r\n\t\t\tpath( true );\r\n\t\t\tc2d.closePath();\r\n\t\t\tObject.assign( c2d, {\r\n\t\t\t\tfillStyle: '#000',\r\n\t\t\t\tshadowColor: 'rgba(0,0,0,.4)',\r\n\t\t\t\tshadowBlur: lightDistance,\r\n\t\t\t\tshadowOffsetX: center.x - shadowCenter.x,\r\n\t\t\t\tshadowOffsetY: center.y - shadowCenter.y\r\n\t\t\t} );\r\n\t\t\tc2d.fill();\r\n\t\t\tc2d.restore();\r\n\r\n\t\t\tconst radius = Math.min( width, height ) * .5;\r\n\t\t\tif( color !== null ) {\r\n\t\t\t\t// dark stones have highlights, light stones have shadows\r\n\t\t\t\tconst isDark = color === 0,\r\n\t\t\t\t\t// shadows are reversed from light (+pi radians)\r\n\t\t\t\t\tradialGradient = c2d.createRadialGradient(\r\n\t\t\t\t\t\tcenter.x, center.y, 0,\r\n\t\t\t\t\t\tisDark ? lightCenter.x : shadowCenter.x,\r\n\t\t\t\t\t\tisDark ? lightCenter.y : shadowCenter.y,\r\n\t\t\t\t\t\tradius\r\n\t\t\t\t\t),\r\n\t\t\t\t\trgb = isDark ? '255,255,255' : '0,0,0';\r\n\t\t\t\tradialGradient.addColorStop( 0,   `rgba(${rgb},0)` );\r\n\t\t\t\tradialGradient.addColorStop( .5,  `rgba(${rgb},.1)` );\r\n\t\t\t\tradialGradient.addColorStop( .75, `rgba(${rgb},0)` );\r\n\t\t\t\tradialGradient.addColorStop( 1,   `rgba(${rgb},.75)` );\r\n\r\n\t\t\t\tc2d.beginPath();\r\n\t\t\t\tc2d.arc( center.x, center.y, radius * .8, 0, Math.PI * 2 );\r\n\r\n\t\t\t\tc2d.save();\r\n\t\t\t\tObject.assign( c2d, {\r\n\t\t\t\t\tfillStyle: isDark ? '#111' : '#fff',\r\n\t\t\t\t\t// shadowColor: 'rgba(0,0,0,.4)',\r\n\t\t\t\t\t// shadowBlur: lightDistance,\r\n\t\t\t\t\t// shadowOffsetX: center.x - shadowCenter.x,\r\n\t\t\t\t\t// shadowOffsetY: center.y - shadowCenter.y\r\n\t\t\t\t} );\r\n\t\t\t\tc2d.fill();\r\n\t\t\t\tc2d.restore();\r\n\r\n\t\t\t\tc2d.save();\r\n\t\t\t\tObject.assign( c2d, {\r\n\t\t\t\t\tlineWidth: 1,\r\n\t\t\t\t\tstrokeStyle: 'rgba(0,0,0,.5)'\r\n\t\t\t\t} );\r\n\t\t\t\tc2d.stroke();\r\n\t\t\t\tc2d.restore();\r\n\r\n\t\t\t\tc2d.save();\r\n\t\t\t\tObject.assign( c2d, {\r\n\t\t\t\t\tglobalCompositeOperation: isDark ? 'screen' : 'multiply',\r\n\t\t\t\t\tfillStyle: radialGradient\r\n\t\t\t\t} );\r\n\t\t\t\tc2d.fill();\r\n\t\t\t\tc2d.restore();\r\n\t\t\t}\r\n\t\t\tc2d.restore();\r\n\t\t}\r\n\t\tconst { lastMove } = this;\r\n\t\tif( lastMove ) {\r\n\t\t\tconst { bounds } = board.get( lastMove );\r\n\t\t\tc2d.save();\r\n\t\t\tconst r = 5;\r\n\t\t\tconst p = 7;\r\n\t\t\tconst center = { x: bounds.right - r - p, y: bounds.top + r + p };\r\n\r\n\t\t\tconst radialGradient = c2d.createRadialGradient(\r\n\t\t\t\tcenter.x, center.y, 0,\r\n\t\t\t\tcenter.x, center.y, r\r\n\t\t\t);\r\n\t\t\tradialGradient.addColorStop( 0,   `hsl(180,0%,50%)` );\r\n\t\t\tradialGradient.addColorStop( .5,  `hsl(180,100%,50%)` );\r\n\t\t\tradialGradient.addColorStop( 1,   `hsl(180,0%,50%)` );\r\n\r\n\t\t\tc2d.fillStyle = radialGradient;\r\n\t\t\tc2d.beginPath();\r\n\t\t\tc2d.ellipse( bounds.right - r - p, bounds.top + r + p, r, r, 0, 0, Math.PI * 2 );\r\n\t\t\tc2d.fill();\r\n\t\t\tc2d.closePath();\r\n\t\t\tc2d.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic handleEvent( emitter: EventEmitter<BoardMouseEvent>, { clientX, clientY }: MouseEvent ) {\r\n\t\tconst { board, canvas } = this,\r\n\t\t\tscreenPosition = { x: clientX, y: clientY },\r\n\t\t\tcanvasPosition = screenToCanvas( canvas, { x: clientX, y: clientY } ),\r\n\t\t\tsquare = board.hitTest( canvasPosition ),\r\n\t\t\tboardPosition = square && square.position || null;\r\n\t\temitter.emit( {\r\n\t\t\tsquare,\r\n\t\t\tposition: {\r\n\t\t\t\tscreen: screenPosition,\r\n\t\t\t\tcanvas: canvasPosition,\r\n\t\t\t\tboard: boardPosition\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n}\r\n","export function screenToCanvas(canvas, {\n  x,\n  y\n}) {\n  const width = canvas.width,\n        height = canvas.height,\n        rect = canvas.getBoundingClientRect();\n  return {\n    x: (x - rect.left) * (width / rect.width),\n    y: (y - rect.top) * (height / rect.height)\n  };\n}\nexport function canvasToScreen(canvas, {\n  x,\n  y\n}) {\n  const width = canvas.width,\n        height = canvas.height,\n        rect = canvas.getBoundingClientRect();\n  return {\n    x: x * (rect.width / width) + rect.left,\n    y: y * (rect.height / height) + rect.top\n  };\n}","export function screenToCanvas( canvas: HTMLCanvasElement, { x, y }: Point ): Point {\n\tconst { width, height } = canvas,\n\t\trect = canvas.getBoundingClientRect();\n\treturn { x: ( x - rect.left ) * ( width / rect.width ), y: ( y - rect.top ) * ( height / rect.height ) };\n}\n\nexport function canvasToScreen( canvas: HTMLCanvasElement, { x, y }: Point ): Point {\n\tconst { width, height } = canvas,\n\t\trect = canvas.getBoundingClientRect();\n\treturn { x: ( x * ( rect.width / width ) ) + rect.left, y: ( y * ( rect.height / height ) ) + rect.top };\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./chat.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i5 from \"@fortawesome/angular-fontawesome\";\nimport * as i6 from \"@angular/platform-browser\";\nimport * as i7 from \"ngx-auto-scroll\";\nimport * as i8 from \"./chat.component\";\nimport * as i9 from \"./room.service\";\nvar styles_ChatComponent = [i0.styles];\nvar RenderType_ChatComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_ChatComponent,\n  data: {}\n});\nexport { RenderType_ChatComponent };\n\nfunction View_ChatComponent_2(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"h4\", [[\"class\", \"list-group-item-heading text-muted\"]], null, null, null, null, null)), (_l()(), i1.ted(1, null, [\"\", \"\"]))], null, function (_ck, _v) {\n    var currVal_0 = _v.parent.context.$implicit.user;\n\n    _ck(_v, 1, 0, currVal_0);\n  });\n}\n\nfunction View_ChatComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 4, \"div\", [[\"class\", \"list-group-item\"]], null, null, null, null, null)), (_l()(), i1.and(16777216, null, null, 1, null, View_ChatComponent_2)), i1.did(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i1.eld(3, 0, null, null, 1, \"p\", [[\"class\", \"list-group-item-text mb-0\"]], null, null, null, null, null)), (_l()(), i1.ted(4, null, [\"\", \"\"]))], function (_ck, _v) {\n    var currVal_0 = _v.context.$implicit.user;\n\n    _ck(_v, 2, 0, currVal_0);\n  }, function (_ck, _v) {\n    var currVal_1 = _v.context.$implicit.message;\n\n    _ck(_v, 4, 0, currVal_1);\n  });\n}\n\nexport function View_ChatComponent_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 26, \"div\", [[\"class\", \"row\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 20, \"div\", [[\"class\", \"col-12\"]], null, null, null, null, null)), (_l()(), i1.eld(2, 0, null, null, 19, \"form\", [[\"autocomplete\", \"off\"], [\"novalidate\", \"\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngSubmit\"], [null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"submit\" === en) {\n      var pd_0 = i1.nov(_v, 4).onSubmit($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"reset\" === en) {\n      var pd_1 = i1.nov(_v, 4).onReset() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"ngSubmit\" === en) {\n      var pd_2 = _co.sendMessage() !== false;\n      ad = pd_2 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(3, 16384, null, 0, i3.angular_packages_forms_forms_bg, [], null, null), i1.did(4, 4210688, [[\"messageForm\", 4]], 0, i3.NgForm, [[8, null], [8, null]], null, {\n    ngSubmit: \"ngSubmit\"\n  }), i1.prd(2048, null, i3.ControlContainer, null, [i3.NgForm]), i1.did(6, 16384, null, 0, i3.NgControlStatusGroup, [[4, i3.ControlContainer]], null, null), (_l()(), i1.eld(7, 0, null, null, 14, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(8, 0, null, null, 13, \"div\", [[\"class\", \"input-group\"]], null, null, null, null, null)), (_l()(), i1.eld(9, 0, null, null, 7, \"input\", [[\"autocomplete\", \"off\"], [\"class\", \"form-control\"], [\"name\", \"text\"], [\"placeholder\", \"Enter message\"], [\"required\", \"required\"], [\"type\", \"text\"]], [[1, \"required\", 0], [2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 10)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 10).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 10)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 10)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    if (\"ngModelChange\" === en) {\n      var pd_4 = (_co.text = $event) !== false;\n      ad = pd_4 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(10, 16384, null, 0, i3.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i3.COMPOSITION_BUFFER_MODE]], null, null), i1.did(11, 16384, null, 0, i3.RequiredValidator, [], {\n    required: [0, \"required\"]\n  }, null), i1.prd(1024, null, i3.NG_VALIDATORS, function (p0_0) {\n    return [p0_0];\n  }, [i3.RequiredValidator]), i1.prd(1024, null, i3.NG_VALUE_ACCESSOR, function (p0_0) {\n    return [p0_0];\n  }, [i3.DefaultValueAccessor]), i1.did(14, 671744, null, 0, i3.NgModel, [[2, i3.ControlContainer], [6, i3.NG_VALIDATORS], [8, null], [6, i3.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, {\n    update: \"ngModelChange\"\n  }), i1.prd(2048, null, i3.NgControl, null, [i3.NgModel]), i1.did(16, 16384, null, 0, i3.NgControlStatus, [[4, i3.NgControl]], null, null), (_l()(), i1.eld(17, 0, null, null, 4, \"div\", [[\"class\", \"input-group-append\"]], null, null, null, null, null)), (_l()(), i1.eld(18, 0, null, null, 3, \"button\", [], [[8, \"disabled\", 0]], null, null, null, null)), (_l()(), i1.eld(19, 0, null, null, 2, \"fa-icon\", [[\"class\", \"ng-fa-icon\"]], [[8, \"innerHTML\", 1]], null, null, i4.View_FaIconComponent_0, i4.RenderType_FaIconComponent)), i1.did(20, 573440, null, 0, i5.FaIconComponent, [i6.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), i1.pad(21, 2), (_l()(), i1.eld(22, 0, null, null, 4, \"div\", [[\"class\", \"col-12\"]], null, null, null, null, null)), (_l()(), i1.eld(23, 0, null, null, 3, \"div\", [[\"class\", \"list-group\"], [\"ngx-auto-scroll\", \"\"]], null, [[null, \"scroll\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"scroll\" === en) {\n      var pd_0 = i1.nov(_v, 24).scrollHandler() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(24, 1196032, null, 0, i7.NgxAutoScroll, [i1.ElementRef], null, null), (_l()(), i1.and(16777216, null, null, 1, null, View_ChatComponent_1)), i1.did(26, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], {\n    ngForOf: [0, \"ngForOf\"]\n  }, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_15 = \"required\";\n\n    _ck(_v, 11, 0, currVal_15);\n\n    var currVal_16 = \"text\";\n    var currVal_17 = _co.text;\n\n    _ck(_v, 14, 0, currVal_16, currVal_17);\n\n    var currVal_20 = _ck(_v, 21, 0, \"far\", \"comment\");\n\n    _ck(_v, 20, 0, currVal_20);\n\n    var currVal_21 = _co.messages;\n\n    _ck(_v, 26, 0, currVal_21);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 6).ngClassUntouched;\n    var currVal_1 = i1.nov(_v, 6).ngClassTouched;\n    var currVal_2 = i1.nov(_v, 6).ngClassPristine;\n    var currVal_3 = i1.nov(_v, 6).ngClassDirty;\n    var currVal_4 = i1.nov(_v, 6).ngClassValid;\n    var currVal_5 = i1.nov(_v, 6).ngClassInvalid;\n    var currVal_6 = i1.nov(_v, 6).ngClassPending;\n\n    _ck(_v, 2, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6);\n\n    var currVal_7 = i1.nov(_v, 11).required ? \"\" : null;\n    var currVal_8 = i1.nov(_v, 16).ngClassUntouched;\n    var currVal_9 = i1.nov(_v, 16).ngClassTouched;\n    var currVal_10 = i1.nov(_v, 16).ngClassPristine;\n    var currVal_11 = i1.nov(_v, 16).ngClassDirty;\n    var currVal_12 = i1.nov(_v, 16).ngClassValid;\n    var currVal_13 = i1.nov(_v, 16).ngClassInvalid;\n    var currVal_14 = i1.nov(_v, 16).ngClassPending;\n\n    _ck(_v, 9, 0, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14);\n\n    var currVal_18 = !i1.nov(_v, 4).form.valid;\n\n    _ck(_v, 18, 0, currVal_18);\n\n    var currVal_19 = i1.nov(_v, 20).renderedIconHTML;\n\n    _ck(_v, 19, 0, currVal_19);\n  });\n}\nexport function View_ChatComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"chat\", [], null, null, null, View_ChatComponent_0, RenderType_ChatComponent)), i1.did(1, 114688, null, 0, i8.ChatComponent, [i9.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar ChatComponentNgFactory = i1.ccf(\"chat\", i8.ChatComponent, View_ChatComponent_Host_0, {}, {}, []);\nexport { ChatComponentNgFactory };","<div class=\"row\"> <div class=\"col-12\"> <form (ngSubmit)=\"sendMessage()\" #messageForm=\"ngForm\" autocomplete=\"off\"> <div class=\"form-group\"> <div class=\"input-group\"> <input type=\"text\" class=\"form-control\" required=\"required\" placeholder=\"Enter message\" [(ngModel)]=\"text\" name=\"text\" autocomplete=\"off\"/> <div class=\"input-group-append\"> <button [disabled]=\"!messageForm.form.valid\"> <fa-icon [icon]=\"[ 'far', 'comment' ]\"></fa-icon> </button> </div> </div> </div> </form> </div> <div class=\"col-12\"> <div class=\"list-group\" ngx-auto-scroll> <div class=\"list-group-item\" *ngFor=\"let message of messages\"> <h4 class=\"list-group-item-heading text-muted\" *ngIf=\"message.user\">{{message.user}}</h4> <p class=\"list-group-item-text mb-0\">{{message.message}}</p> </div> </div> </div> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\".list-group[_ngcontent-%COMP%] { height: 50vh; overflow-y: auto; }\\n\\n.list-group[_ngcontent-%COMP%]   .list-group-item-text[_ngcontent-%COMP%] { white-space: pre-wrap; }\"];\nexport { styles };","import { combineLatest } from 'rxjs';\r\nimport { Component } from '@angular/core';\r\nimport { RoomService } from './room.service';\r\n\r\n@Component( {\r\n\tselector: 'chat',\r\n\ttemplateUrl: './chat.component.html',\r\n\tstyleUrls: [ './chat.component.scss' ]\r\n} )\r\nexport class ChatComponent {\r\n\tconstructor(\r\n\t\tprivate readonly roomService: RoomService\r\n\t) {}\r\n\r\n\tprotected ngOnInit() {\r\n\t\tconst { roomService } = this,\r\n\t\t\tcurrentRoom = roomService.getCurrentRoom(),\r\n\t\t\tallMessages = roomService.getMessages();\r\n\t\tcurrentRoom.subscribe( room => {\r\n\t\t\tthis.room = room;\r\n\t\t} );\r\n\t\tcombineLatest( currentRoom, allMessages, ( room, messages ) => {\r\n\t\t\tif( room ) {\r\n\t\t\t\treturn messages.filter( message => message.roomId === room.roomId );\r\n\t\t\t} else {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t} ).subscribe( messages => {\r\n\t\t\tthis.messages = messages;\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic room: Room|null;\r\n\r\n\tpublic messages = [] as Message[];\r\n\r\n\tpublic text = '';\r\n\r\n\tpublic async sendMessage() {\r\n\t\tconst { roomService, room, text: message } = this;\r\n\t\tif( !room || !message ) { return; }\r\n\t\tthis.text = '';\r\n\t\tawait roomService.sendMessage( room.roomId, message );\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin","import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons';\r\nimport { far } from '@fortawesome/free-regular-svg-icons';\r\nimport { fas } from '@fortawesome/free-solid-svg-icons';\r\nlibrary.add( fab, far, fas );\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./game.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"./board.component.ngfactory\";\nimport * as i3 from \"./board.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./modal/new-game.component.ngfactory\";\nimport * as i6 from \"./modal/new-game.component\";\nimport * as i7 from \"./game.service\";\nimport * as i8 from \"./game.component\";\nimport * as i9 from \"./room.service\";\nimport * as i10 from \"ngx-zone-scheduler/dist/zone-scheduler\";\nvar styles_GameComponent = [i0.styles];\nvar RenderType_GameComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_GameComponent,\n  data: {}\n});\nexport { RenderType_GameComponent };\n\nfunction View_GameComponent_2(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"div\", [[\"class\", \"card-body\"]], null, null, null, null, null)), (_l()(), i1.ted(-1, null, [\" Game Over \"]))], null, null);\n}\n\nfunction View_GameComponent_3(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"div\", [[\"class\", \"card-body\"]], null, null, null, null, null)), (_l()(), i1.ted(1, null, [\" \", \"\\u2019s Turn \"]))], null, function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.turn;\n\n    _ck(_v, 1, 0, currVal_0);\n  });\n}\n\nfunction View_GameComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 9, \"div\", [[\"class\", \"row\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 2, \"div\", [[\"class\", \"col-12\"]], null, null, null, null, null)), (_l()(), i1.eld(2, 0, null, null, 1, \"board\", [], null, [[null, \"click\"], [null, \"mousemove\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.onClick($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"mousemove\" === en) {\n      var pd_1 = _co.onMouseMove($event) !== false;\n      ad = pd_1 && ad;\n    }\n\n    return ad;\n  }, i2.View_BoardComponent_0, i2.RenderType_BoardComponent)), i1.did(3, 4964352, null, 0, i3.BoardComponent, [], {\n    board: [0, \"board\"],\n    lastMove: [1, \"lastMove\"]\n  }, {\n    click: \"click\",\n    mousemove: \"mousemove\"\n  }), (_l()(), i1.eld(4, 0, null, null, 5, \"div\", [[\"class\", \"col-12\"]], null, null, null, null, null)), (_l()(), i1.eld(5, 0, null, null, 4, \"div\", [[\"class\", \"card\"]], null, null, null, null, null)), (_l()(), i1.and(16777216, null, null, 1, null, View_GameComponent_2)), i1.did(7, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i1.and(16777216, null, null, 1, null, View_GameComponent_3)), i1.did(9, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.board;\n    var currVal_1 = _co.lastMove;\n\n    _ck(_v, 3, 0, currVal_0, currVal_1);\n\n    var currVal_2 = _co.turn == null;\n\n    _ck(_v, 7, 0, currVal_2);\n\n    var currVal_3 = _co.turn != null;\n\n    _ck(_v, 9, 0, currVal_3);\n  }, null);\n}\n\nexport function View_GameComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    newGameModal: 0\n  }), (_l()(), i1.and(16777216, null, null, 1, null, View_GameComponent_1)), i1.did(2, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i1.eld(3, 0, null, null, 1, \"modal-new-game\", [], null, null, null, i5.View_ModalNewGameComponent_0, i5.RenderType_ModalNewGameComponent)), i1.did(4, 49152, [[1, 4], [\"newGameModal\", 4]], 0, i6.ModalNewGameComponent, [i7.GameService, i1.NgZone], null, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.game;\n\n    _ck(_v, 2, 0, currVal_0);\n  }, null);\n}\nexport function View_GameComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"game\", [], null, null, null, View_GameComponent_0, RenderType_GameComponent)), i1.did(1, 245760, null, 0, i8.GameComponent, [i7.GameService, i9.RoomService, i10.ZoneScheduler], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar GameComponentNgFactory = i1.ccf(\"game\", i8.GameComponent, View_GameComponent_Host_0, {}, {}, []);\nexport { GameComponentNgFactory };","<div class=\"row\" *ngIf=\"game\"> <div class=\"col-12\"> <board [board]=\"board\" [lastMove]=\"lastMove\" (click)=\"onClick($event)\" (mousemove)=\"onMouseMove($event)\"></board> </div> <div class=\"col-12\"> <div class=\"card\"> <div class=\"card-body\" *ngIf=\"turn == null\"> Game Over </div> <div class=\"card-body\" *ngIf=\"turn != null\"> {{turn}}s Turn </div> </div> </div> </div> <modal-new-game #newGameModal></modal-new-game> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"canvas[_ngcontent-%COMP%] { max-width: 100%; }\"];\nexport { styles };","import { rulesStandard } from 'src/rule-sets';\r\n\r\nimport { combineLatest, SchedulerLike, Subject } from 'rxjs';\r\n\r\nimport { Component, Inject, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\n\r\nimport { GameService } from './game.service';\r\nimport { RoomService } from './room.service';\r\nimport { ZoneScheduler } from 'ngx-zone-scheduler';\r\nimport { observeOn, takeUntil } from 'rxjs/operators';\r\nimport { ModalNewGameComponent } from './modal/new-game.component';\r\nimport { Board } from 'src/board';\r\nimport { colors } from 'data/colors.yaml';\r\n\r\nconst rules = rulesStandard;\r\n\r\n@Component( {\r\n\tselector: 'game',\r\n\ttemplateUrl: './game.component.html',\r\n\tstyleUrls: [ './game.component.scss' ]\r\n} )\r\nexport class GameComponent implements OnInit, OnDestroy {\r\n\tconstructor(\r\n\t\tprivate readonly gameService: GameService,\r\n\t\tprivate readonly roomService: RoomService,\r\n\t\t@Inject(ZoneScheduler)\r\n\t\tprivate readonly scheduler: SchedulerLike\r\n\t) {}\r\n\r\n\t@ViewChild( 'newGameModal' )\r\n\tpublic newGameModal: ModalNewGameComponent;\r\n\r\n\tpublic ngOnInit() {\r\n\t\tconst { gameService, roomService, destroyed, scheduler } = this;\r\n\t\tconst currentRoom = roomService.getCurrentRoom();\r\n\t\tcurrentRoom.subscribe( room => {\r\n\t\t\tthis.room = room || null;\r\n\t\t} );\r\n\t\tcombineLatest( gameService.getGames(), currentRoom,\r\n\t\t\t( games, room ) => room\r\n\t\t\t? games.filter( game => game.gameId === room.gameId )[ 0 ] || null\r\n\t\t\t: null\r\n\t\t)\r\n\t\t.pipe(\r\n\t\t\ttakeUntil( destroyed ),\r\n\t\t\tobserveOn( scheduler )\r\n\t\t)\r\n\t\t.subscribe( game => {\r\n\t\t\tthis.game = game;\r\n\t\t\tif( game ) {\r\n\t\t\t\tconst gameState = this.gameState = game.gameStates.slice( -1 )[ 0 ];\r\n\t\t\t\tthis.board = Board.fromGame( game, gameState );\r\n\t\t\t\tthis.lastMove = gameState.lastMove;\r\n\t\t\t\tif( gameState.turn == null ) this.turn = null;\r\n\t\t\t\telse this.turn = colors[ game.colors[ gameState.turn ] ].displayName;\r\n\t\t\t} else {\r\n\t\t\t\tthis.gameState = null;\r\n\t\t\t\tthis.board = null;\r\n\t\t\t\tthis.lastMove = null;\r\n\t\t\t\tthis.turn = null;\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tpublic turn = null as string|null;\r\n\tpublic room = null as Room|null;\r\n\tpublic game = null as Game|null;\r\n\tpublic gameState = null as GameState|null;\r\n\tpublic lastMove = null as Point|null;\r\n\tpublic board = new Board;\r\n\tpublic rules = null as Rules|null;\r\n\r\n\tprivate readonly destroyed = new Subject<true>();\r\n\r\n\tpublic onMouseMove( { square }: BoardMouseEvent ) {\r\n\t\tif( !square ) return;\r\n\t\tconst { game, gameState } = this;\r\n\r\n\t\tdocument.documentElement.style.cursor =\r\n\t\t\t( rules.isGameOver( game, gameState )\r\n\t\t||\trules.isValid( game, gameState, square.position, gameState.turn ) )\r\n\t\t?   'pointer'\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tpublic onClick( { square }: BoardMouseEvent ) {\r\n\t\tif( !square ) return;\r\n\t\tconst { room, game, gameState, gameService, newGameModal } = this;\r\n\t\tif( rules.isGameOver( game, gameState ) ) {\r\n\t\t\tnewGameModal.show( room );\r\n\t\t} else {\r\n\t\t\tgameService.makeMove( room.roomId, square.position );\r\n\t\t}\r\n\t}\r\n}\r\n","import { SchedulerLike, Observable, Subject } from 'rxjs';\r\nimport { ZoneScheduler } from 'ngx-zone-scheduler';\r\nimport { Inject, Injectable, OnDestroy } from '@angular/core';\r\nimport { SessionService } from './session.service';\r\nimport { observeOn, shareReplay, scan, takeUntil } from 'rxjs/operators';\r\nimport { tapLog } from 'src/operators';\r\n\r\n@Injectable()\r\nexport class GameService implements OnDestroy {\r\n\tconstructor(\r\n\t\t@Inject(ZoneScheduler)\r\n\t\tprivate readonly scheduler: SchedulerLike,\r\n\t\t@Inject(SessionService)\r\n\t\tprivate readonly sessionService: SessionService\r\n\t) {\r\n\t\tthis.allGames =\r\n\t\tsessionService.getEvents<Game>( 'update' )\r\n\t\t.pipe(\r\n\t\t\ttakeUntil( this.destroyed ),\r\n\t\t\tscan<Game, Game[]>( ( prev, game ) => {\r\n\t\t\t\tconst games = [ ...prev ];\r\n\t\t\t\tconst index = games.findIndex( g => g.gameId === game.gameId );\r\n\t\t\t\tif( index >= 0 ) {\r\n\t\t\t\t\tgames.splice( index, 1, game );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgames.push( game );\r\n\t\t\t\t}\r\n\t\t\t\treturn games;\r\n\t\t\t}, [] as Game[] ),\r\n\t\t\tshareReplay( 1 )\r\n\t\t);\r\n\r\n\t\tthis.allGames.pipe( tapLog( 'allGames' ) ).subscribe();\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tpublic getGames() {\r\n\t\tconst { allGames, scheduler } = this;\r\n\t\treturn allGames.pipe( observeOn( scheduler ) );\r\n\t}\r\n\r\n\tpublic async newGame( roomId: string, ruleSet: RuleSet ) {\r\n\t\tconst { sessionService } = this;\r\n\t\treturn await sessionService.emit<Game>( 'newGame', { roomId, ruleSet } );\r\n\t}\r\n\r\n\tpublic async makeMove( roomId: string, position: Point ) {\r\n\t\tconst { sessionService } = this;\r\n\t\tawait sessionService.emit( 'makeMove', { roomId, position } );\r\n\t}\r\n\r\n\tprivate readonly destroyed = new Subject<true>();\r\n\tprivate readonly allGames: Observable<Game[]>;\r\n}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./lobby.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i3 from \"@fortawesome/angular-fontawesome\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./modal/create-room.component.ngfactory\";\nimport * as i7 from \"./modal/create-room.component\";\nimport * as i8 from \"./room.service\";\nimport * as i9 from \"./modal/join-room.component.ngfactory\";\nimport * as i10 from \"./modal/join-room.component\";\nimport * as i11 from \"./lobby.component\";\nvar styles_LobbyComponent = [i0.styles];\nvar RenderType_LobbyComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_LobbyComponent,\n  data: {}\n});\nexport { RenderType_LobbyComponent };\n\nfunction View_LobbyComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 4, \"div\", [[\"class\", \"list-group-item\"]], null, null, null, null, null)), (_l()(), i1.ted(-1, null, [\" There are no rooms. Would you like to \"])), (_l()(), i1.eld(2, 0, null, null, 1, \"a\", [[\"href\", \"javascript:\"]], null, [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"click\" === en) {\n      var pd_0 = i1.nov(_v.parent, 13).show() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.ted(-1, null, [\"create one\"])), (_l()(), i1.ted(-1, null, [\"? \"]))], null, null);\n}\n\nfunction View_LobbyComponent_3(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"fa-icon\", [[\"class\", \"mr-2 mt-1 ng-fa-icon\"], [\"icon\", \"lock\"]], [[8, \"innerHTML\", 1]], null, null, i2.View_FaIconComponent_0, i2.RenderType_FaIconComponent)), i1.did(1, 573440, null, 0, i3.FaIconComponent, [i4.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null)], function (_ck, _v) {\n    var currVal_1 = \"lock\";\n\n    _ck(_v, 1, 0, currVal_1);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 1).renderedIconHTML;\n\n    _ck(_v, 0, 0, currVal_0);\n  });\n}\n\nfunction View_LobbyComponent_2(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 6, \"div\", [[\"class\", \"list-group-item d-flex\"]], null, null, null, null, null)), (_l()(), i1.and(16777216, null, null, 1, null, View_LobbyComponent_3)), i1.did(2, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i1.eld(3, 0, null, null, 1, \"h4\", [], null, null, null, null, null)), (_l()(), i1.ted(4, null, [\"\", \"\"])), (_l()(), i1.eld(5, 0, null, null, 1, \"button\", [[\"class\", \"btn ml-auto\"]], null, [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.joinRoom(_v.context.$implicit) !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.ted(-1, null, [\" Join \"]))], function (_ck, _v) {\n    var currVal_0 = _v.context.$implicit.hasPassword;\n\n    _ck(_v, 2, 0, currVal_0);\n  }, function (_ck, _v) {\n    var currVal_1 = _v.context.$implicit.name;\n\n    _ck(_v, 4, 0, currVal_1);\n  });\n}\n\nexport function View_LobbyComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    createRoomModal: 0\n  }), i1.qud(402653184, 2, {\n    joinRoomModal: 0\n  }), (_l()(), i1.eld(2, 0, null, null, 9, \"div\", [[\"class\", \"row\"]], null, null, null, null, null)), (_l()(), i1.eld(3, 0, null, null, 5, \"div\", [[\"class\", \"col-12 mb-1\"]], null, null, null, null, null)), (_l()(), i1.eld(4, 0, null, null, 4, \"div\", [[\"class\", \"list-group\"]], null, null, null, null, null)), (_l()(), i1.and(16777216, null, null, 1, null, View_LobbyComponent_1)), i1.did(6, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i1.and(16777216, null, null, 1, null, View_LobbyComponent_2)), i1.did(8, 802816, null, 0, i5.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], {\n    ngForOf: [0, \"ngForOf\"]\n  }, null), (_l()(), i1.eld(9, 0, null, null, 2, \"div\", [[\"class\", \"col-12 clearfix mt-1\"]], null, null, null, null, null)), (_l()(), i1.eld(10, 0, null, null, 1, \"button\", [[\"class\", \"btn float-right mr-2\"]], null, [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"click\" === en) {\n      var pd_0 = i1.nov(_v, 13).show() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.ted(-1, null, [\" Create Room \"])), (_l()(), i1.eld(12, 0, null, null, 1, \"modal-create-room\", [], null, null, null, i6.View_ModalCreateRoomComponent_0, i6.RenderType_ModalCreateRoomComponent)), i1.did(13, 49152, [[1, 4], [\"createRoomModal\", 4]], 0, i7.ModalCreateRoomComponent, [i8.RoomService], null, null), (_l()(), i1.eld(14, 0, null, null, 1, \"modal-join-room\", [], null, null, null, i9.View_ModalJoinRoomComponent_0, i9.RenderType_ModalJoinRoomComponent)), i1.did(15, 49152, [[2, 4], [\"joinRoomModal\", 4]], 0, i10.ModalJoinRoomComponent, [i8.RoomService, i1.NgZone], null, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.rooms.length === 0;\n\n    _ck(_v, 6, 0, currVal_0);\n\n    var currVal_1 = _co.rooms;\n\n    _ck(_v, 8, 0, currVal_1);\n  }, null);\n}\nexport function View_LobbyComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"lobby\", [], null, null, null, View_LobbyComponent_0, RenderType_LobbyComponent)), i1.did(1, 245760, null, 0, i11.LobbyComponent, [i8.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar LobbyComponentNgFactory = i1.ccf(\"lobby\", i11.LobbyComponent, View_LobbyComponent_Host_0, {}, {}, []);\nexport { LobbyComponentNgFactory };","<div class=\"row\"> <div class=\"col-12 mb-1\"> <div class=\"list-group\"> <div class=\"list-group-item\" *ngIf=\"rooms.length === 0\"> There are no rooms. Would you like to <a href=\"javascript:\" (click)=\"createRoomModal.show()\">create one</a>? </div> <div class=\"list-group-item d-flex\" *ngFor=\"let room of rooms\"> <fa-icon class=\"mr-2 mt-1\" icon=\"lock\" *ngIf=\"room.hasPassword\"></fa-icon> <h4>{{room.name}}</h4> <button class=\"btn ml-auto\" (click)=\"joinRoom(room)\"> Join </button> </div> </div> </div> <div class=\"col-12 clearfix mt-1\"> <button class=\"btn float-right mr-2\" (click)=\"createRoomModal.show()\"> Create Room </button> </div> </div> <modal-create-room #createRoomModal></modal-create-room> <modal-join-room #joinRoomModal></modal-join-room> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"\"];\nexport { styles };","import { Component, ViewChild, NgZone, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { take, takeUntil } from 'rxjs/operators';\r\nimport { RoomService } from './room.service';\r\nimport { ModalCreateRoomComponent } from './modal/create-room.component';\r\nimport { ModalJoinRoomComponent } from './modal/join-room.component';\r\n\r\n@Component( {\r\n\tselector: 'lobby',\r\n\ttemplateUrl: './lobby.component.html',\r\n\tstyleUrls: [ './lobby.component.scss' ]\r\n} )\r\nexport class LobbyComponent implements OnInit, OnDestroy {\r\n\tconstructor(\r\n\t\tprivate readonly roomService: RoomService\r\n\t) {}\r\n\r\n\t@ViewChild( 'createRoomModal' )\r\n\tpublic createRoomModal: ModalCreateRoomComponent;\r\n\r\n\t@ViewChild( 'joinRoomModal' )\r\n\tpublic joinRoomModal: ModalJoinRoomComponent;\r\n\r\n\tpublic ngOnInit() {\r\n\t\tconst { destroyed, roomService } = this;\r\n\t\troomService.getRooms()\r\n\t\t.pipe( takeUntil( destroyed ) )\r\n\t\t.subscribe( rooms => {\r\n\t\t\tthis.rooms = rooms;\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tpublic rooms = [] as Room[];\r\n\r\n\tpublic async joinRoom( room: Room ) {\r\n\t\tconst { roomService } = this;\r\n\t\tconst joinedRooms = await roomService.getJoinedRooms().pipe( take( 1 ) ).toPromise();\r\n\t\tif( joinedRooms.some( r => r.roomId === room.roomId ) ) {\r\n\t\t\tawait roomService.setRoom( room );\r\n\t\t} else if( room.hasPassword ) {\r\n\t\t\tthis.joinRoomModal.show( room );\r\n\t\t} else {\r\n\t\t\tawait roomService.joinRoom( room, '' );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate readonly destroyed = new Subject<true>();\r\n}\r\n","import './default.scss';\nimport './polyfills';\nimport './vendor';\n\nimport { enableProdMode } from '@angular/core';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nif( location.hostname !== 'localhost' ) {\n\tenableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule( AppModule );\n","import './default.scss';\nimport './polyfills';\nimport './vendor';\nimport { enableProdMode } from '@angular/core';\nimport * as __NgCli_bootstrap_1 from \"./app.module.ngfactory\";\nimport * as __NgCli_bootstrap_2 from \"@angular/platform-browser\";\n\nif (location.hostname !== 'localhost') {\n  enableProdMode();\n}\n\n__NgCli_bootstrap_2.platformBrowser().bootstrapModuleFactory(__NgCli_bootstrap_1.AppModuleNgFactory);","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./create-room.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"ngx-bootstrap/modal/modal.directive\";\nimport * as i3 from \"ngx-bootstrap/component-loader/component-loader.factory\";\nimport * as i4 from \"./header.component.ngfactory\";\nimport * as i5 from \"./header.component\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i8 from \"@fortawesome/angular-fontawesome\";\nimport * as i9 from \"@angular/platform-browser\";\nimport * as i10 from \"./create-room.component\";\nimport * as i11 from \"../room.service\";\nvar styles_ModalCreateRoomComponent = [i0.styles];\nvar RenderType_ModalCreateRoomComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_ModalCreateRoomComponent,\n  data: {}\n});\nexport { RenderType_ModalCreateRoomComponent };\nexport function View_ModalCreateRoomComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    createRoomModal: 0\n  }), (_l()(), i1.eld(1, 16777216, null, null, 40, \"div\", [[\"aria-hidden\", \"true\"], [\"bsModal\", \"\"], [\"class\", \"modal fade\"], [\"role\", \"dialog\"], [\"tabindex\", \"-1\"]], null, [[null, \"onHidden\"], [null, \"onShown\"], [null, \"click\"], [null, \"keydown.esc\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = i1.nov(_v, 2).onClick($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"keydown.esc\" === en) {\n      var pd_1 = i1.nov(_v, 2).onEsc($event) !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"onHidden\" === en) {\n      _co.roomName = \"\";\n      var pd_2 = (_co.password = \"\") !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"onShown\" === en) {\n      var pd_3 = i1.nov(_v, 20).focus() !== false;\n      ad = pd_3 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(2, 212992, [[1, 4], [\"createRoomModal\", 4]], 0, i2.ModalDirective, [i1.ElementRef, i1.ViewContainerRef, i1.Renderer2, i3.ComponentLoaderFactory], null, {\n    onShown: \"onShown\",\n    onHidden: \"onHidden\"\n  }), (_l()(), i1.eld(3, 0, null, null, 38, \"div\", [[\"class\", \"modal-dialog modal-lg\"]], null, null, null, null, null)), (_l()(), i1.eld(4, 0, null, null, 37, \"div\", [[\"class\", \"modal-content\"]], null, null, null, null, null)), (_l()(), i1.eld(5, 0, null, null, 2, \"modal-header\", [], null, [[null, \"closeClick\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"closeClick\" === en) {\n      var pd_0 = i1.nov(_v, 2).hide() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, i4.View_ModalHeaderComponent_0, i4.RenderType_ModalHeaderComponent)), i1.did(6, 49152, null, 0, i5.ModalHeaderComponent, [], null, {\n    closeClick: \"closeClick\"\n  }), (_l()(), i1.ted(-1, 0, [\" Create Room \"])), (_l()(), i1.eld(8, 0, null, null, 33, \"div\", [[\"class\", \"modal-body\"]], null, null, null, null, null)), (_l()(), i1.eld(9, 0, null, null, 32, \"form\", [[\"autocomplete\", \"off\"], [\"class\", \"clearfix\"], [\"novalidate\", \"\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngSubmit\"], [null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"submit\" === en) {\n      var pd_0 = i1.nov(_v, 11).onSubmit($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"reset\" === en) {\n      var pd_1 = i1.nov(_v, 11).onReset() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"ngSubmit\" === en) {\n      var pd_2 = _co.createRoom() !== false;\n      ad = pd_2 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(10, 16384, null, 0, i6.angular_packages_forms_forms_bg, [], null, null), i1.did(11, 4210688, [[\"createRoomForm\", 4]], 0, i6.NgForm, [[8, null], [8, null]], null, {\n    ngSubmit: \"ngSubmit\"\n  }), i1.prd(2048, null, i6.ControlContainer, null, [i6.NgForm]), i1.did(13, 16384, null, 0, i6.NgControlStatusGroup, [[4, i6.ControlContainer]], null, null), (_l()(), i1.eld(14, 0, null, null, 13, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(15, 0, null, null, 12, \"div\", [[\"class\", \"input-group mb-2\"]], null, null, null, null, null)), (_l()(), i1.eld(16, 0, null, null, 3, \"div\", [[\"class\", \"input-group-prepend\"]], null, null, null, null, null)), (_l()(), i1.eld(17, 0, null, null, 2, \"div\", [[\"class\", \"input-group-text\"]], null, null, null, null, null)), (_l()(), i1.eld(18, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"door-open\"]], [[8, \"innerHTML\", 1]], null, null, i7.View_FaIconComponent_0, i7.RenderType_FaIconComponent)), i1.did(19, 573440, null, 0, i8.FaIconComponent, [i9.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), (_l()(), i1.eld(20, 0, [[\"roomNameText\", 1]], null, 7, \"input\", [[\"autocomplete\", \"off\"], [\"class\", \"form-control\"], [\"name\", \"room-name\"], [\"placeholder\", \"Room Name\"], [\"required\", \"required\"], [\"type\", \"text\"]], [[1, \"required\", 0], [2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 21)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 21).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 21)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 21)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    if (\"ngModelChange\" === en) {\n      var pd_4 = (_co.roomName = $event) !== false;\n      ad = pd_4 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(21, 16384, null, 0, i6.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i6.COMPOSITION_BUFFER_MODE]], null, null), i1.did(22, 16384, null, 0, i6.RequiredValidator, [], {\n    required: [0, \"required\"]\n  }, null), i1.prd(1024, null, i6.NG_VALIDATORS, function (p0_0) {\n    return [p0_0];\n  }, [i6.RequiredValidator]), i1.prd(1024, null, i6.NG_VALUE_ACCESSOR, function (p0_0) {\n    return [p0_0];\n  }, [i6.DefaultValueAccessor]), i1.did(25, 671744, null, 0, i6.NgModel, [[2, i6.ControlContainer], [6, i6.NG_VALIDATORS], [8, null], [6, i6.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, {\n    update: \"ngModelChange\"\n  }), i1.prd(2048, null, i6.NgControl, null, [i6.NgModel]), i1.did(27, 16384, null, 0, i6.NgControlStatus, [[4, i6.NgControl]], null, null), (_l()(), i1.eld(28, 0, null, null, 11, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(29, 0, null, null, 10, \"div\", [[\"class\", \"input-group mb-2\"]], null, null, null, null, null)), (_l()(), i1.eld(30, 0, null, null, 3, \"div\", [[\"class\", \"input-group-prepend\"]], null, null, null, null, null)), (_l()(), i1.eld(31, 0, null, null, 2, \"div\", [[\"class\", \"input-group-text\"]], null, null, null, null, null)), (_l()(), i1.eld(32, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"lock\"]], [[8, \"innerHTML\", 1]], null, null, i7.View_FaIconComponent_0, i7.RenderType_FaIconComponent)), i1.did(33, 573440, null, 0, i8.FaIconComponent, [i9.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), (_l()(), i1.eld(34, 0, null, null, 5, \"input\", [[\"autocomplete\", \"off\"], [\"class\", \"form-control\"], [\"name\", \"room-password\"], [\"placeholder\", \"Password (optional)\"], [\"type\", \"password\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 35)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 35).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 35)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 35)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    if (\"ngModelChange\" === en) {\n      var pd_4 = (_co.password = $event) !== false;\n      ad = pd_4 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(35, 16384, null, 0, i6.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i6.COMPOSITION_BUFFER_MODE]], null, null), i1.prd(1024, null, i6.NG_VALUE_ACCESSOR, function (p0_0) {\n    return [p0_0];\n  }, [i6.DefaultValueAccessor]), i1.did(37, 671744, null, 0, i6.NgModel, [[2, i6.ControlContainer], [8, null], [8, null], [6, i6.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, {\n    update: \"ngModelChange\"\n  }), i1.prd(2048, null, i6.NgControl, null, [i6.NgModel]), i1.did(39, 16384, null, 0, i6.NgControlStatus, [[4, i6.NgControl]], null, null), (_l()(), i1.eld(40, 0, null, null, 1, \"button\", [[\"class\", \"btn float-right\"]], [[8, \"disabled\", 0]], null, null, null, null)), (_l()(), i1.ted(-1, null, [\" Create \"]))], function (_ck, _v) {\n    var _co = _v.component;\n\n    _ck(_v, 2, 0);\n\n    var currVal_8 = \"door-open\";\n\n    _ck(_v, 19, 0, currVal_8);\n\n    var currVal_17 = \"required\";\n\n    _ck(_v, 22, 0, currVal_17);\n\n    var currVal_18 = \"room-name\";\n    var currVal_19 = _co.roomName;\n\n    _ck(_v, 25, 0, currVal_18, currVal_19);\n\n    var currVal_21 = \"lock\";\n\n    _ck(_v, 33, 0, currVal_21);\n\n    var currVal_29 = \"room-password\";\n    var currVal_30 = _co.password;\n\n    _ck(_v, 37, 0, currVal_29, currVal_30);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 13).ngClassUntouched;\n    var currVal_1 = i1.nov(_v, 13).ngClassTouched;\n    var currVal_2 = i1.nov(_v, 13).ngClassPristine;\n    var currVal_3 = i1.nov(_v, 13).ngClassDirty;\n    var currVal_4 = i1.nov(_v, 13).ngClassValid;\n    var currVal_5 = i1.nov(_v, 13).ngClassInvalid;\n    var currVal_6 = i1.nov(_v, 13).ngClassPending;\n\n    _ck(_v, 9, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6);\n\n    var currVal_7 = i1.nov(_v, 19).renderedIconHTML;\n\n    _ck(_v, 18, 0, currVal_7);\n\n    var currVal_9 = i1.nov(_v, 22).required ? \"\" : null;\n    var currVal_10 = i1.nov(_v, 27).ngClassUntouched;\n    var currVal_11 = i1.nov(_v, 27).ngClassTouched;\n    var currVal_12 = i1.nov(_v, 27).ngClassPristine;\n    var currVal_13 = i1.nov(_v, 27).ngClassDirty;\n    var currVal_14 = i1.nov(_v, 27).ngClassValid;\n    var currVal_15 = i1.nov(_v, 27).ngClassInvalid;\n    var currVal_16 = i1.nov(_v, 27).ngClassPending;\n\n    _ck(_v, 20, 0, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14, currVal_15, currVal_16);\n\n    var currVal_20 = i1.nov(_v, 33).renderedIconHTML;\n\n    _ck(_v, 32, 0, currVal_20);\n\n    var currVal_22 = i1.nov(_v, 39).ngClassUntouched;\n    var currVal_23 = i1.nov(_v, 39).ngClassTouched;\n    var currVal_24 = i1.nov(_v, 39).ngClassPristine;\n    var currVal_25 = i1.nov(_v, 39).ngClassDirty;\n    var currVal_26 = i1.nov(_v, 39).ngClassValid;\n    var currVal_27 = i1.nov(_v, 39).ngClassInvalid;\n    var currVal_28 = i1.nov(_v, 39).ngClassPending;\n\n    _ck(_v, 34, 0, currVal_22, currVal_23, currVal_24, currVal_25, currVal_26, currVal_27, currVal_28);\n\n    var currVal_31 = !i1.nov(_v, 11).form.valid;\n\n    _ck(_v, 40, 0, currVal_31);\n  });\n}\nexport function View_ModalCreateRoomComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"modal-create-room\", [], null, null, null, View_ModalCreateRoomComponent_0, RenderType_ModalCreateRoomComponent)), i1.did(1, 49152, null, 0, i10.ModalCreateRoomComponent, [i11.RoomService], null, null)], null, null);\n}\nvar ModalCreateRoomComponentNgFactory = i1.ccf(\"modal-create-room\", i10.ModalCreateRoomComponent, View_ModalCreateRoomComponent_Host_0, {}, {}, []);\nexport { ModalCreateRoomComponentNgFactory };","<div bsModal #createRoomModal=\"bs-modal\" (onHidden)=\"roomName = ''; password = '';\" (onShown)=\"roomNameText.focus();\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"> <div class=\"modal-dialog modal-lg\"> <div class=\"modal-content\"> <modal-header (closeClick)=\"createRoomModal.hide()\"> Create Room </modal-header> <div class=\"modal-body\"> <form (ngSubmit)=\"createRoom()\" class=\"clearfix\" #createRoomForm=\"ngForm\" autocomplete=\"off\"> <div class=\"form-group\"> <div class=\"input-group mb-2\"> <div class=\"input-group-prepend\"> <div class=\"input-group-text\"> <fa-icon icon=\"door-open\"></fa-icon> </div> </div> <input type=\"text\" class=\"form-control\" placeholder=\"Room Name\" required=\"required\" [(ngModel)]=\"roomName\" #roomNameText name=\"room-name\" autocomplete=\"off\"/> </div> </div> <div class=\"form-group\"> <div class=\"input-group mb-2\"> <div class=\"input-group-prepend\"> <div class=\"input-group-text\"> <fa-icon icon=\"lock\"></fa-icon> </div> </div> <input type=\"password\" class=\"form-control\" placeholder=\"Password (optional)\" [(ngModel)]=\"password\" name=\"room-password\" autocomplete=\"off\"/> </div> </div> <button class=\"btn float-right\" [disabled]=\"!createRoomForm.form.valid\"> Create </button> </form> </div> </div> </div> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"\"];\nexport { styles };","import { Component, ViewChild } from '@angular/core';\nimport { RoomService } from 'client/room.service';\nimport { ModalDirective } from 'ngx-bootstrap';\n\n@Component( {\n\tselector: 'modal-create-room',\n\ttemplateUrl: 'create-room.component.html',\n\tstyleUrls: [ './create-room.component.scss' ]\n} )\nexport class ModalCreateRoomComponent {\n\tconstructor( private readonly roomService: RoomService ) {}\n\n\t@ViewChild( 'createRoomModal' )\n\tprotected createRoomModal: ModalDirective;\n\n\tpublic show() {\n\t\tconst { createRoomModal } = this;\n\t\tcreateRoomModal.show();\n\t}\n\n\tpublic hide() {\n\t\tconst { createRoomModal } = this;\n\t\tcreateRoomModal.hide();\n\t}\n\n\tpublic rooms = [] as Room[];\n\tpublic roomName = '';\n\tpublic password = '';\n\n\tpublic async createRoom() {\n\t\tconst { roomService, roomName, password } = this;\n\t\tif( !roomName ) { return; }\n\t\tthis.hide();\n\t\tawait roomService.createRoom( roomName, password );\n\t}\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./header.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i3 from \"@fortawesome/angular-fontawesome\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./header.component\";\nvar styles_ModalHeaderComponent = [i0.styles];\nvar RenderType_ModalHeaderComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_ModalHeaderComponent,\n  data: {}\n});\nexport { RenderType_ModalHeaderComponent };\n\nfunction View_ModalHeaderComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 3, \"button\", [[\"aria-label\", \"Close\"], [\"class\", \"close\"], [\"type\", \"button\"]], null, [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.closeClick.emit() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.eld(1, 0, null, null, 2, \"span\", [[\"aria-hidden\", \"true\"]], null, null, null, null, null)), (_l()(), i1.eld(2, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"times\"]], [[8, \"innerHTML\", 1]], null, null, i2.View_FaIconComponent_0, i2.RenderType_FaIconComponent)), i1.did(3, 573440, null, 0, i3.FaIconComponent, [i4.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null)], function (_ck, _v) {\n    var currVal_1 = \"times\";\n\n    _ck(_v, 3, 0, currVal_1);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 3).renderedIconHTML;\n\n    _ck(_v, 2, 0, currVal_0);\n  });\n}\n\nexport function View_ModalHeaderComponent_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 4, \"div\", [[\"class\", \"modal-header\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 1, \"h4\", [[\"class\", \"modal-title\"]], null, null, null, null, null)), i1.ncd(null, 0), (_l()(), i1.and(16777216, null, null, 1, null, View_ModalHeaderComponent_1)), i1.did(4, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = _co.showCloseButton;\n\n    _ck(_v, 4, 0, currVal_0);\n  }, null);\n}\nexport function View_ModalHeaderComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"modal-header\", [], null, null, null, View_ModalHeaderComponent_0, RenderType_ModalHeaderComponent)), i1.did(1, 49152, null, 0, i6.ModalHeaderComponent, [], null, null)], null, null);\n}\nvar ModalHeaderComponentNgFactory = i1.ccf(\"modal-header\", i6.ModalHeaderComponent, View_ModalHeaderComponent_Host_0, {\n  showCloseButton: \"showCloseButton\"\n}, {\n  closeClick: \"closeClick\"\n}, [\"*\"]);\nexport { ModalHeaderComponentNgFactory };","<div class=\"modal-header\"> <h4 class=\"modal-title\"> <ng-content></ng-content> </h4> <button type=\"button\" class=\"close\" (click)=\"closeClick.emit()\" aria-label=\"Close\" *ngIf=\"showCloseButton\"> <span aria-hidden=\"true\"> <fa-icon icon=\"times\"></fa-icon> </span> </button> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"\"];\nexport { styles };","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component( {\r\n\tselector: 'modal-header',\r\n\ttemplateUrl: 'header.component.html',\r\n\tstyleUrls: [ './header.component.scss' ]\r\n} )\r\nexport class ModalHeaderComponent {\r\n\t@Input()\r\n\tpublic showCloseButton = true;\r\n\r\n\t@Output() closeClick = new EventEmitter<void>();\r\n}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./join-room.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"ngx-bootstrap/modal/modal.directive\";\nimport * as i3 from \"ngx-bootstrap/component-loader/component-loader.factory\";\nimport * as i4 from \"./header.component.ngfactory\";\nimport * as i5 from \"./header.component\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i8 from \"@fortawesome/angular-fontawesome\";\nimport * as i9 from \"@angular/platform-browser\";\nimport * as i10 from \"./join-room.component\";\nimport * as i11 from \"../room.service\";\nvar styles_ModalJoinRoomComponent = [i0.styles];\nvar RenderType_ModalJoinRoomComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_ModalJoinRoomComponent,\n  data: {}\n});\nexport { RenderType_ModalJoinRoomComponent };\nexport function View_ModalJoinRoomComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    joinRoomModal: 0\n  }), (_l()(), i1.eld(1, 16777216, null, null, 40, \"div\", [[\"aria-hidden\", \"true\"], [\"bsModal\", \"\"], [\"class\", \"modal fade\"], [\"role\", \"dialog\"], [\"tabindex\", \"-1\"]], null, [[null, \"onHidden\"], [null, \"onShown\"], [null, \"click\"], [null, \"keydown.esc\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = i1.nov(_v, 2).onClick($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"keydown.esc\" === en) {\n      var pd_1 = i1.nov(_v, 2).onEsc($event) !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"onHidden\" === en) {\n      var pd_2 = (_co.password = \"\") !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"onShown\" === en) {\n      var pd_3 = i1.nov(_v, 32).focus() !== false;\n      ad = pd_3 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(2, 212992, [[1, 4], [\"joinRoomModal\", 4]], 0, i2.ModalDirective, [i1.ElementRef, i1.ViewContainerRef, i1.Renderer2, i3.ComponentLoaderFactory], null, {\n    onShown: \"onShown\",\n    onHidden: \"onHidden\"\n  }), (_l()(), i1.eld(3, 0, null, null, 38, \"div\", [[\"class\", \"modal-dialog modal-lg\"]], null, null, null, null, null)), (_l()(), i1.eld(4, 0, null, null, 37, \"div\", [[\"class\", \"modal-content\"]], null, null, null, null, null)), (_l()(), i1.eld(5, 0, null, null, 2, \"modal-header\", [], null, [[null, \"closeClick\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"closeClick\" === en) {\n      var pd_0 = i1.nov(_v, 2).hide() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, i4.View_ModalHeaderComponent_0, i4.RenderType_ModalHeaderComponent)), i1.did(6, 49152, null, 0, i5.ModalHeaderComponent, [], null, {\n    closeClick: \"closeClick\"\n  }), (_l()(), i1.ted(-1, 0, [\" Join Room \"])), (_l()(), i1.eld(8, 0, null, null, 33, \"div\", [[\"class\", \"modal-body\"]], null, null, null, null, null)), (_l()(), i1.eld(9, 0, null, null, 32, \"form\", [[\"autocomplete\", \"off\"], [\"class\", \"clearfix\"], [\"novalidate\", \"\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngSubmit\"], [null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"submit\" === en) {\n      var pd_0 = i1.nov(_v, 11).onSubmit($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"reset\" === en) {\n      var pd_1 = i1.nov(_v, 11).onReset() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"ngSubmit\" === en) {\n      var pd_2 = _co.joinRoom() !== false;\n      ad = pd_2 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(10, 16384, null, 0, i6.angular_packages_forms_forms_bg, [], null, null), i1.did(11, 4210688, [[\"joinRoomForm\", 4]], 0, i6.NgForm, [[8, null], [8, null]], null, {\n    ngSubmit: \"ngSubmit\"\n  }), i1.prd(2048, null, i6.ControlContainer, null, [i6.NgForm]), i1.did(13, 16384, null, 0, i6.NgControlStatusGroup, [[4, i6.ControlContainer]], null, null), (_l()(), i1.eld(14, 0, null, null, 11, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(15, 0, null, null, 10, \"div\", [[\"class\", \"input-group mb-2\"]], null, null, null, null, null)), (_l()(), i1.eld(16, 0, null, null, 3, \"div\", [[\"class\", \"input-group-prepend\"]], null, null, null, null, null)), (_l()(), i1.eld(17, 0, null, null, 2, \"div\", [[\"class\", \"input-group-text\"]], null, null, null, null, null)), (_l()(), i1.eld(18, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"door-closed\"]], [[8, \"innerHTML\", 1]], null, null, i7.View_FaIconComponent_0, i7.RenderType_FaIconComponent)), i1.did(19, 573440, null, 0, i8.FaIconComponent, [i9.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), (_l()(), i1.eld(20, 0, null, null, 5, \"input\", [[\"autocomplete\", \"off\"], [\"class\", \"form-control\"], [\"name\", \"room-name\"], [\"readonly\", \"readonly\"], [\"type\", \"text\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 21)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 21).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 21)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 21)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(21, 16384, null, 0, i6.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i6.COMPOSITION_BUFFER_MODE]], null, null), i1.prd(1024, null, i6.NG_VALUE_ACCESSOR, function (p0_0) {\n    return [p0_0];\n  }, [i6.DefaultValueAccessor]), i1.did(23, 671744, null, 0, i6.NgModel, [[2, i6.ControlContainer], [8, null], [8, null], [6, i6.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, null), i1.prd(2048, null, i6.NgControl, null, [i6.NgModel]), i1.did(25, 16384, null, 0, i6.NgControlStatus, [[4, i6.NgControl]], null, null), (_l()(), i1.eld(26, 0, null, null, 13, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(27, 0, null, null, 12, \"div\", [[\"class\", \"input-group mb-2\"]], null, null, null, null, null)), (_l()(), i1.eld(28, 0, null, null, 3, \"div\", [[\"class\", \"input-group-prepend\"]], null, null, null, null, null)), (_l()(), i1.eld(29, 0, null, null, 2, \"div\", [[\"class\", \"input-group-text\"]], null, null, null, null, null)), (_l()(), i1.eld(30, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"key\"]], [[8, \"innerHTML\", 1]], null, null, i7.View_FaIconComponent_0, i7.RenderType_FaIconComponent)), i1.did(31, 573440, null, 0, i8.FaIconComponent, [i9.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), (_l()(), i1.eld(32, 0, [[\"roomPasswordText\", 1]], null, 7, \"input\", [[\"autocomplete\", \"off\"], [\"class\", \"form-control\"], [\"name\", \"room-password\"], [\"placeholder\", \"Password\"], [\"required\", \"required\"], [\"type\", \"password\"]], [[1, \"required\", 0], [2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 33)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 33).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 33)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 33)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    if (\"ngModelChange\" === en) {\n      var pd_4 = (_co.password = $event) !== false;\n      ad = pd_4 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(33, 16384, null, 0, i6.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i6.COMPOSITION_BUFFER_MODE]], null, null), i1.did(34, 16384, null, 0, i6.RequiredValidator, [], {\n    required: [0, \"required\"]\n  }, null), i1.prd(1024, null, i6.NG_VALIDATORS, function (p0_0) {\n    return [p0_0];\n  }, [i6.RequiredValidator]), i1.prd(1024, null, i6.NG_VALUE_ACCESSOR, function (p0_0) {\n    return [p0_0];\n  }, [i6.DefaultValueAccessor]), i1.did(37, 671744, null, 0, i6.NgModel, [[2, i6.ControlContainer], [6, i6.NG_VALIDATORS], [8, null], [6, i6.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, {\n    update: \"ngModelChange\"\n  }), i1.prd(2048, null, i6.NgControl, null, [i6.NgModel]), i1.did(39, 16384, null, 0, i6.NgControlStatus, [[4, i6.NgControl]], null, null), (_l()(), i1.eld(40, 0, null, null, 1, \"button\", [[\"class\", \"btn float-right\"]], [[8, \"disabled\", 0]], null, null, null, null)), (_l()(), i1.ted(-1, null, [\" Join \"]))], function (_ck, _v) {\n    var _co = _v.component;\n\n    _ck(_v, 2, 0);\n\n    var currVal_8 = \"door-closed\";\n\n    _ck(_v, 19, 0, currVal_8);\n\n    var currVal_16 = \"room-name\";\n    var currVal_17 = _co.room == null ? null : _co.room.name;\n\n    _ck(_v, 23, 0, currVal_16, currVal_17);\n\n    var currVal_19 = \"key\";\n\n    _ck(_v, 31, 0, currVal_19);\n\n    var currVal_28 = \"required\";\n\n    _ck(_v, 34, 0, currVal_28);\n\n    var currVal_29 = \"room-password\";\n    var currVal_30 = _co.password;\n\n    _ck(_v, 37, 0, currVal_29, currVal_30);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 13).ngClassUntouched;\n    var currVal_1 = i1.nov(_v, 13).ngClassTouched;\n    var currVal_2 = i1.nov(_v, 13).ngClassPristine;\n    var currVal_3 = i1.nov(_v, 13).ngClassDirty;\n    var currVal_4 = i1.nov(_v, 13).ngClassValid;\n    var currVal_5 = i1.nov(_v, 13).ngClassInvalid;\n    var currVal_6 = i1.nov(_v, 13).ngClassPending;\n\n    _ck(_v, 9, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6);\n\n    var currVal_7 = i1.nov(_v, 19).renderedIconHTML;\n\n    _ck(_v, 18, 0, currVal_7);\n\n    var currVal_9 = i1.nov(_v, 25).ngClassUntouched;\n    var currVal_10 = i1.nov(_v, 25).ngClassTouched;\n    var currVal_11 = i1.nov(_v, 25).ngClassPristine;\n    var currVal_12 = i1.nov(_v, 25).ngClassDirty;\n    var currVal_13 = i1.nov(_v, 25).ngClassValid;\n    var currVal_14 = i1.nov(_v, 25).ngClassInvalid;\n    var currVal_15 = i1.nov(_v, 25).ngClassPending;\n\n    _ck(_v, 20, 0, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14, currVal_15);\n\n    var currVal_18 = i1.nov(_v, 31).renderedIconHTML;\n\n    _ck(_v, 30, 0, currVal_18);\n\n    var currVal_20 = i1.nov(_v, 34).required ? \"\" : null;\n    var currVal_21 = i1.nov(_v, 39).ngClassUntouched;\n    var currVal_22 = i1.nov(_v, 39).ngClassTouched;\n    var currVal_23 = i1.nov(_v, 39).ngClassPristine;\n    var currVal_24 = i1.nov(_v, 39).ngClassDirty;\n    var currVal_25 = i1.nov(_v, 39).ngClassValid;\n    var currVal_26 = i1.nov(_v, 39).ngClassInvalid;\n    var currVal_27 = i1.nov(_v, 39).ngClassPending;\n\n    _ck(_v, 32, 0, currVal_20, currVal_21, currVal_22, currVal_23, currVal_24, currVal_25, currVal_26, currVal_27);\n\n    var currVal_31 = !i1.nov(_v, 11).form.valid;\n\n    _ck(_v, 40, 0, currVal_31);\n  });\n}\nexport function View_ModalJoinRoomComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"modal-join-room\", [], null, null, null, View_ModalJoinRoomComponent_0, RenderType_ModalJoinRoomComponent)), i1.did(1, 49152, null, 0, i10.ModalJoinRoomComponent, [i11.RoomService, i1.NgZone], null, null)], null, null);\n}\nvar ModalJoinRoomComponentNgFactory = i1.ccf(\"modal-join-room\", i10.ModalJoinRoomComponent, View_ModalJoinRoomComponent_Host_0, {}, {}, []);\nexport { ModalJoinRoomComponentNgFactory };","<div bsModal #joinRoomModal=\"bs-modal\" (onHidden)=\"password = '';\" (onShown)=\"roomPasswordText.focus();\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"> <div class=\"modal-dialog modal-lg\"> <div class=\"modal-content\"> <modal-header (closeClick)=\"joinRoomModal.hide()\"> Join Room </modal-header> <div class=\"modal-body\"> <form (ngSubmit)=\"joinRoom()\" class=\"clearfix\" #joinRoomForm=\"ngForm\" autocomplete=\"off\"> <div class=\"form-group\"> <div class=\"input-group mb-2\"> <div class=\"input-group-prepend\"> <div class=\"input-group-text\"> <fa-icon icon=\"door-closed\"></fa-icon> </div> </div> <input type=\"text\" class=\"form-control\" [ngModel]=\"room?.name\" name=\"room-name\" readonly=\"readonly\" autocomplete=\"off\"/> </div> </div> <div class=\"form-group\"> <div class=\"input-group mb-2\"> <div class=\"input-group-prepend\"> <div class=\"input-group-text\"> <fa-icon icon=\"key\"></fa-icon> </div> </div> <input type=\"password\" class=\"form-control\" placeholder=\"Password\" required=\"required\" #roomPasswordText [(ngModel)]=\"password\" name=\"room-password\" autocomplete=\"off\"/> </div> </div> <button class=\"btn float-right\" [disabled]=\"!joinRoomForm.form.valid\"> Join </button> </form> </div> </div> </div> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"\"];\nexport { styles };","import { Component, NgZone, ViewChild } from '@angular/core';\r\nimport { RoomService } from 'client/room.service';\r\nimport { ModalDirective } from 'ngx-bootstrap';\r\n\r\n@Component( {\r\n\tselector: 'modal-join-room',\r\n\ttemplateUrl: 'join-room.component.html',\r\n\tstyleUrls: [ './join-room.component.scss' ]\r\n} )\r\nexport class ModalJoinRoomComponent {\r\n\tconstructor(\r\n\t\tprivate readonly roomService: RoomService,\r\n\t\tprivate readonly zone: NgZone\r\n\t) {}\r\n\r\n\t@ViewChild( 'joinRoomModal' )\r\n\tprotected joinRoomModal: ModalDirective;\r\n\r\n\tpublic show( room: Room ) {\r\n\t\tconst { joinRoomModal, zone } = this;\r\n\t\tzone.run( () => {\r\n\t\t\tthis.room = room;\r\n\t\t\tjoinRoomModal.show();\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tconst { joinRoomModal, zone } = this;\r\n\t\tzone.run( () => {\r\n\t\t\tthis.room = null;\r\n\t\t\tjoinRoomModal.hide();\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic room: Room|null;\r\n\tpublic password = '';\r\n\r\n\tpublic async joinRoom() {\r\n\t\tconst { roomService, room, password } = this;\r\n\t\tthis.hide();\r\n\t\tawait roomService.joinRoom( room, password );\r\n\t}\r\n}\r\n","export class ModalModule {}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { ModalChooseComponent } from './choose.component';\nimport { ModalCreateRoomComponent } from './create-room.component';\nimport { ModalHeaderComponent } from './header.component';\nimport { ModalNewGameComponent } from './new-game.component';\nimport { ModalJoinRoomComponent } from './join-room.component';\nimport { ModalModule as NgxModalModule } from 'ngx-bootstrap';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\n\n@NgModule( {\n\timports:      [ CommonModule, FormsModule, NgxModalModule.forRoot(), FontAwesomeModule ],\n\texports:      [ ModalChooseComponent, ModalCreateRoomComponent, ModalNewGameComponent, ModalJoinRoomComponent ],\n\tdeclarations: [ ModalChooseComponent, ModalCreateRoomComponent, ModalHeaderComponent, ModalNewGameComponent, ModalJoinRoomComponent ],\n\tproviders:    [ ComponentLoaderFactory ]\n} )\nexport class ModalModule {}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./new-game.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ngx-bootstrap/modal/modal.directive\";\nimport * as i4 from \"ngx-bootstrap/component-loader/component-loader.factory\";\nimport * as i5 from \"./header.component.ngfactory\";\nimport * as i6 from \"./header.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"./new-game.component\";\nimport * as i9 from \"../game.service\";\nvar styles_ModalNewGameComponent = [i0.styles];\nvar RenderType_ModalNewGameComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_ModalNewGameComponent,\n  data: {}\n});\nexport { RenderType_ModalNewGameComponent };\n\nfunction View_ModalNewGameComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 11, \"div\", [[\"class\", \"form-check-inline\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 10, \"label\", [[\"class\", \"form-check-label\"]], null, null, null, null, null)), (_l()(), i1.eld(2, 0, null, null, 8, \"input\", [[\"class\", \"form-check-input\"], [\"name\", \"ruleSet\"], [\"required\", \"required\"], [\"type\", \"radio\"]], [[1, \"required\", 0], [2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"], [null, \"change\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"input\" === en) {\n      var pd_0 = i1.nov(_v, 3)._handleInput($event.target.value) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_1 = i1.nov(_v, 3).onTouched() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"compositionstart\" === en) {\n      var pd_2 = i1.nov(_v, 3)._compositionStart() !== false;\n      ad = pd_2 && ad;\n    }\n\n    if (\"compositionend\" === en) {\n      var pd_3 = i1.nov(_v, 3)._compositionEnd($event.target.value) !== false;\n      ad = pd_3 && ad;\n    }\n\n    if (\"change\" === en) {\n      var pd_4 = i1.nov(_v, 4).onChange() !== false;\n      ad = pd_4 && ad;\n    }\n\n    if (\"blur\" === en) {\n      var pd_5 = i1.nov(_v, 4).onTouched() !== false;\n      ad = pd_5 && ad;\n    }\n\n    if (\"ngModelChange\" === en) {\n      var pd_6 = (_co.ruleSet = $event) !== false;\n      ad = pd_6 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(3, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.did(4, 212992, null, 0, i2.RadioControlValueAccessor, [i1.Renderer2, i1.ElementRef, i2.angular_packages_forms_forms_i, i1.Injector], {\n    name: [0, \"name\"],\n    value: [1, \"value\"]\n  }, null), i1.did(5, 16384, null, 0, i2.RequiredValidator, [], {\n    required: [0, \"required\"]\n  }, null), i1.prd(1024, null, i2.NG_VALIDATORS, function (p0_0) {\n    return [p0_0];\n  }, [i2.RequiredValidator]), i1.prd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0, p1_0) {\n    return [p0_0, p1_0];\n  }, [i2.DefaultValueAccessor, i2.RadioControlValueAccessor]), i1.did(8, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [6, i2.NG_VALIDATORS], [8, null], [6, i2.NG_VALUE_ACCESSOR]], {\n    name: [0, \"name\"],\n    model: [1, \"model\"]\n  }, {\n    update: \"ngModelChange\"\n  }), i1.prd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.did(10, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ted(11, null, [\" \", \" \"]))], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_8 = \"ruleSet\";\n    var currVal_9 = _v.context.$implicit.ruleSet;\n\n    _ck(_v, 4, 0, currVal_8, currVal_9);\n\n    var currVal_10 = \"required\";\n\n    _ck(_v, 5, 0, currVal_10);\n\n    var currVal_11 = \"ruleSet\";\n    var currVal_12 = _co.ruleSet;\n\n    _ck(_v, 8, 0, currVal_11, currVal_12);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 5).required ? \"\" : null;\n    var currVal_1 = i1.nov(_v, 10).ngClassUntouched;\n    var currVal_2 = i1.nov(_v, 10).ngClassTouched;\n    var currVal_3 = i1.nov(_v, 10).ngClassPristine;\n    var currVal_4 = i1.nov(_v, 10).ngClassDirty;\n    var currVal_5 = i1.nov(_v, 10).ngClassValid;\n    var currVal_6 = i1.nov(_v, 10).ngClassInvalid;\n    var currVal_7 = i1.nov(_v, 10).ngClassPending;\n\n    _ck(_v, 2, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7);\n\n    var currVal_13 = _v.context.$implicit.name;\n\n    _ck(_v, 11, 0, currVal_13);\n  });\n}\n\nexport function View_ModalNewGameComponent_0(_l) {\n  return i1.vid(0, [i1.qud(402653184, 1, {\n    newGameModal: 0\n  }), (_l()(), i1.eld(1, 16777216, null, null, 19, \"div\", [[\"aria-hidden\", \"true\"], [\"bsModal\", \"\"], [\"class\", \"modal fade\"], [\"role\", \"dialog\"], [\"tabindex\", \"-1\"]], null, [[null, \"click\"], [null, \"keydown.esc\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"click\" === en) {\n      var pd_0 = i1.nov(_v, 2).onClick($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"keydown.esc\" === en) {\n      var pd_1 = i1.nov(_v, 2).onEsc($event) !== false;\n      ad = pd_1 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(2, 212992, [[1, 4], [\"newGameModal\", 4]], 0, i3.ModalDirective, [i1.ElementRef, i1.ViewContainerRef, i1.Renderer2, i4.ComponentLoaderFactory], null, null), (_l()(), i1.eld(3, 0, null, null, 17, \"div\", [[\"class\", \"modal-dialog modal-lg\"]], null, null, null, null, null)), (_l()(), i1.eld(4, 0, null, null, 16, \"div\", [[\"class\", \"modal-content\"]], null, null, null, null, null)), (_l()(), i1.eld(5, 0, null, null, 2, \"modal-header\", [], null, [[null, \"closeClick\"]], function (_v, en, $event) {\n    var ad = true;\n\n    if (\"closeClick\" === en) {\n      var pd_0 = i1.nov(_v, 2).hide() !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, i5.View_ModalHeaderComponent_0, i5.RenderType_ModalHeaderComponent)), i1.did(6, 49152, null, 0, i6.ModalHeaderComponent, [], null, {\n    closeClick: \"closeClick\"\n  }), (_l()(), i1.ted(-1, 0, [\" New Game \"])), (_l()(), i1.eld(8, 0, null, null, 12, \"div\", [[\"class\", \"modal-body\"]], null, null, null, null, null)), (_l()(), i1.eld(9, 0, null, null, 11, \"form\", [[\"autocomplete\", \"off\"], [\"class\", \"clearfix\"], [\"novalidate\", \"\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngSubmit\"], [null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"submit\" === en) {\n      var pd_0 = i1.nov(_v, 11).onSubmit($event) !== false;\n      ad = pd_0 && ad;\n    }\n\n    if (\"reset\" === en) {\n      var pd_1 = i1.nov(_v, 11).onReset() !== false;\n      ad = pd_1 && ad;\n    }\n\n    if (\"ngSubmit\" === en) {\n      var pd_2 = _co.newGame() !== false;\n      ad = pd_2 && ad;\n    }\n\n    return ad;\n  }, null, null)), i1.did(10, 16384, null, 0, i2.angular_packages_forms_forms_bg, [], null, null), i1.did(11, 4210688, [[\"newGameForm\", 4]], 0, i2.NgForm, [[8, null], [8, null]], null, {\n    ngSubmit: \"ngSubmit\"\n  }), i1.prd(2048, null, i2.ControlContainer, null, [i2.NgForm]), i1.did(13, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.eld(14, 0, null, null, 4, \"fieldset\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.eld(15, 0, null, null, 1, \"legend\", [], null, null, null, null, null)), (_l()(), i1.ted(-1, null, [\"Rule Set\"])), (_l()(), i1.and(16777216, null, null, 1, null, View_ModalNewGameComponent_1)), i1.did(18, 802816, null, 0, i7.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], {\n    ngForOf: [0, \"ngForOf\"]\n  }, null), (_l()(), i1.eld(19, 0, null, null, 1, \"button\", [[\"class\", \"btn float-right\"]], [[8, \"disabled\", 0]], null, null, null, null)), (_l()(), i1.ted(-1, null, [\" Start \"]))], function (_ck, _v) {\n    var _co = _v.component;\n\n    _ck(_v, 2, 0);\n\n    var currVal_7 = _co.ruleSets;\n\n    _ck(_v, 18, 0, currVal_7);\n  }, function (_ck, _v) {\n    var currVal_0 = i1.nov(_v, 13).ngClassUntouched;\n    var currVal_1 = i1.nov(_v, 13).ngClassTouched;\n    var currVal_2 = i1.nov(_v, 13).ngClassPristine;\n    var currVal_3 = i1.nov(_v, 13).ngClassDirty;\n    var currVal_4 = i1.nov(_v, 13).ngClassValid;\n    var currVal_5 = i1.nov(_v, 13).ngClassInvalid;\n    var currVal_6 = i1.nov(_v, 13).ngClassPending;\n\n    _ck(_v, 9, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6);\n\n    var currVal_8 = !i1.nov(_v, 11).form.valid;\n\n    _ck(_v, 19, 0, currVal_8);\n  });\n}\nexport function View_ModalNewGameComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"modal-new-game\", [], null, null, null, View_ModalNewGameComponent_0, RenderType_ModalNewGameComponent)), i1.did(1, 49152, null, 0, i8.ModalNewGameComponent, [i9.GameService, i1.NgZone], null, null)], null, null);\n}\nvar ModalNewGameComponentNgFactory = i1.ccf(\"modal-new-game\", i8.ModalNewGameComponent, View_ModalNewGameComponent_Host_0, {}, {}, []);\nexport { ModalNewGameComponentNgFactory };","<div bsModal #newGameModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"> <div class=\"modal-dialog modal-lg\"> <div class=\"modal-content\"> <modal-header (closeClick)=\"newGameModal.hide()\"> New Game </modal-header> <div class=\"modal-body\"> <form (ngSubmit)=\"newGame()\" class=\"clearfix\" #newGameForm=\"ngForm\" autocomplete=\"off\"> <fieldset class=\"form-group\"> <legend>Rule Set</legend> <div class=\"form-check-inline\" *ngFor=\"let rs of ruleSets\"> <label class=\"form-check-label\"> <input type=\"radio\" class=\"form-check-input\" name=\"ruleSet\" [value]=\"rs.ruleSet\" [(ngModel)]=\"ruleSet\" required=\"required\"> {{rs.name}} </label> </div> </fieldset> <button class=\"btn float-right\" [disabled]=\"!newGameForm.form.valid\"> Start </button> </form> </div> </div> </div> </div> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"\"];\nexport { styles };","import { Component, NgZone, ViewChild } from '@angular/core';\r\nimport { GameService } from 'client/game.service';\r\nimport { ModalDirective } from 'ngx-bootstrap';\r\nimport { ruleSets } from 'src/rule-sets';\r\n\r\n@Component( {\r\n\tselector: 'modal-new-game',\r\n\ttemplateUrl: 'new-game.component.html',\r\n\tstyleUrls: [ './new-game.component.scss' ]\r\n} )\r\nexport class ModalNewGameComponent {\r\n\tconstructor(\r\n\t\tprivate readonly gameService: GameService,\r\n\t\tprivate readonly zone: NgZone\r\n\t) {}\r\n\r\n\t@ViewChild( 'newGameModal' )\r\n\tprotected newGameModal: ModalDirective;\r\n\r\n\tpublic show( room: Room ) {\r\n\t\tconst { newGameModal, zone } = this;\r\n\t\tzone.run( () => {\r\n\t\t\tthis.roomId = room.roomId;\r\n\t\t\tnewGameModal.show();\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tconst { newGameModal, zone } = this;\r\n\t\tzone.run( () => {\r\n\t\t\tthis.roomId = null;\r\n\t\t\tnewGameModal.hide();\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic roomId: string|null;\r\n\tpublic ruleSet: RuleSet;\r\n\tpublic readonly ruleSets = ruleSets;\r\n\r\n\tpublic async newGame() {\r\n\t\tconst { gameService, roomId, ruleSet } = this;\r\n\t\tthis.hide();\r\n\t\tawait gameService.newGame( roomId, ruleSet );\r\n\t}\r\n}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"./navigation.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i3 from \"@fortawesome/angular-fontawesome\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./navigation.component\";\nimport * as i7 from \"./room.service\";\nvar styles_NavigationComponent = [i0.styles];\nvar RenderType_NavigationComponent = i1.crt({\n  encapsulation: 0,\n  styles: styles_NavigationComponent,\n  data: {}\n});\nexport { RenderType_NavigationComponent };\n\nfunction View_NavigationComponent_1(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 6, \"li\", [[\"class\", \"nav-item\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 5, \"a\", [[\"class\", \"nav-link\"], [\"href\", \"javascript:\"]], [[2, \"active\", null]], [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.setRoom(_v.context.$implicit) !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.eld(2, 0, null, null, 1, \"span\", [[\"class\", \"text-truncate\"]], null, null, null, null, null)), (_l()(), i1.ted(3, null, [\" \", \" \"])), (_l()(), i1.eld(4, 0, null, null, 2, \"button\", [[\"class\", \"close ml-2\"]], null, [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.leaveRoom(_v.context.$implicit) !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.eld(5, 0, null, null, 1, \"fa-icon\", [[\"class\", \"ng-fa-icon\"], [\"icon\", \"times\"], [\"size\", \"xs\"], [\"transform\", \"up-2\"]], [[8, \"innerHTML\", 1]], null, null, i2.View_FaIconComponent_0, i2.RenderType_FaIconComponent)), i1.did(6, 573440, null, 0, i3.FaIconComponent, [i4.DomSanitizer], {\n    iconProp: [0, \"iconProp\"],\n    size: [1, \"size\"],\n    transform: [2, \"transform\"]\n  }, null)], function (_ck, _v) {\n    var currVal_3 = \"times\";\n    var currVal_4 = \"xs\";\n    var currVal_5 = \"up-2\";\n\n    _ck(_v, 6, 0, currVal_3, currVal_4, currVal_5);\n  }, function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = (_co.currentRoom == null ? null : _co.currentRoom.roomId) === _v.context.$implicit.roomId;\n\n    _ck(_v, 1, 0, currVal_0);\n\n    var currVal_1 = _v.context.$implicit.name;\n\n    _ck(_v, 3, 0, currVal_1);\n\n    var currVal_2 = i1.nov(_v, 6).renderedIconHTML;\n\n    _ck(_v, 5, 0, currVal_2);\n  });\n}\n\nexport function View_NavigationComponent_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 8, \"nav\", [[\"class\", \"navbar navbar-light bg-light justify-content-start pb-0\"]], null, null, null, null, null)), (_l()(), i1.eld(1, 0, null, null, 1, \"h1\", [[\"class\", \"navbar-brand py-0\"]], null, null, null, null, null)), (_l()(), i1.ted(-1, null, [\"r\\u00B3\"])), (_l()(), i1.eld(3, 0, null, null, 5, \"ul\", [[\"class\", \"nav nav-tabs border-bottom\"]], null, null, null, null, null)), (_l()(), i1.eld(4, 0, null, null, 2, \"li\", [[\"class\", \"nav-item\"]], null, null, null, null, null)), (_l()(), i1.eld(5, 0, null, null, 1, \"a\", [[\"class\", \"nav-link\"], [\"href\", \"javascript:\"]], [[2, \"active\", null]], [[null, \"click\"]], function (_v, en, $event) {\n    var ad = true;\n    var _co = _v.component;\n\n    if (\"click\" === en) {\n      var pd_0 = _co.setRoom(null) !== false;\n      ad = pd_0 && ad;\n    }\n\n    return ad;\n  }, null, null)), (_l()(), i1.ted(-1, null, [\"Lobby\"])), (_l()(), i1.and(16777216, null, null, 1, null, View_NavigationComponent_1)), i1.did(8, 802816, null, 0, i5.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], {\n    ngForOf: [0, \"ngForOf\"]\n  }, null)], function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_1 = _co.rooms;\n\n    _ck(_v, 8, 0, currVal_1);\n  }, function (_ck, _v) {\n    var _co = _v.component;\n    var currVal_0 = !_co.currentRoom;\n\n    _ck(_v, 5, 0, currVal_0);\n  });\n}\nexport function View_NavigationComponent_Host_0(_l) {\n  return i1.vid(0, [(_l()(), i1.eld(0, 0, null, null, 1, \"navigation\", [], null, null, null, View_NavigationComponent_0, RenderType_NavigationComponent)), i1.did(1, 245760, null, 0, i6.NavigationComponent, [i7.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar NavigationComponentNgFactory = i1.ccf(\"navigation\", i6.NavigationComponent, View_NavigationComponent_Host_0, {}, {}, []);\nexport { NavigationComponentNgFactory };","<nav class=\"navbar navbar-light bg-light justify-content-start pb-0\"> <h1 class=\"navbar-brand py-0\">r</h1> <ul class=\"nav nav-tabs border-bottom\"> <li class=\"nav-item\"> <a class=\"nav-link\" href=\"javascript:\" (click)=\"setRoom(null)\" [class.active]=\"!currentRoom\">Lobby</a> </li> <li class=\"nav-item\" *ngFor=\"let room of rooms\"> <a class=\"nav-link\" href=\"javascript:\" (click)=\"setRoom(room)\" [class.active]=\"currentRoom?.roomId===room.roomId\"> <span class=\"text-truncate\"> {{room.name}} </span> <button class=\"close ml-2\" (click)=\"leaveRoom(room)\"> <fa-icon icon=\"times\" size=\"xs\" transform=\"up-2\"></fa-icon> </button> </a> </li> </ul> </nav> ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nvar styles = [\"nav[_ngcontent-%COMP%] { border-bottom: 1px solid #dee2e6; }\\n\\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%] { margin-bottom: -1px; }\\n\\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] { overflow: hidden; height: 42px; }\\n\\nnav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%] { display: inline-block; max-width: 160px; }\"];\nexport { styles };","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { RoomService } from './room.service';\r\n\r\n\r\n@Component( {\r\n\tselector: 'navigation',\r\n\ttemplateUrl: './navigation.component.html',\r\n\tstyleUrls: [ './navigation.component.scss' ]\r\n} )\r\nexport class NavigationComponent implements OnInit, OnDestroy {\r\n\tpublic constructor(\r\n\t\tprivate readonly roomService: RoomService\r\n\t) {}\r\n\r\n\tpublic ngOnInit() {\r\n\t\tconst { destroyed, roomService } = this;\r\n\t\troomService.getJoinedRooms()\r\n\t\t.pipe( takeUntil( destroyed ) )\r\n\t\t.subscribe( rooms => {\r\n\t\t\tthis.rooms = rooms;\r\n\t\t} );\r\n\r\n\t\troomService.getCurrentRoom()\r\n\t\t.pipe( takeUntil( destroyed ) )\r\n\t\t.subscribe( room => {\r\n\t\t\tthis.currentRoom = room;\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tpublic rooms = [] as Room[];\r\n\r\n\tpublic currentRoom = null as Room|null;\r\n\r\n\tpublic async setRoom( room: Room|null ) {\r\n\t\tconst { roomService } = this;\r\n\t\tawait roomService.setRoom( room );\r\n\t}\r\n\r\n\tpublic async leaveRoom( { roomId }: Room ) {\r\n\t\tconst { roomService } = this;\r\n\t\tawait roomService.leaveRoom( roomId );\r\n\t}\r\n\r\n\tprivate readonly destroyed = new Subject<true>();\r\n}\r\n","import 'reflect-metadata';\r\nimport 'zone.js';\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./lobby.component.ngfactory\";\nimport * as i2 from \"./lobby.component\";\nimport * as i3 from \"./room.service\";\nimport * as i4 from \"./room.component.ngfactory\";\nimport * as i5 from \"./room.component\";\nimport * as i6 from \"./navigation.component.ngfactory\";\nimport * as i7 from \"./navigation.component\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"../../node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.ngfactory\";\nimport * as i10 from \"@fortawesome/angular-fontawesome\";\nimport * as i11 from \"@angular/platform-browser\";\nimport * as i12 from \"./r3.component\";\nimport * as i13 from \"./game.service\";\nvar styles_R3Component = [];\nvar RenderType_R3Component = i0.crt({\n  encapsulation: 2,\n  styles: styles_R3Component,\n  data: {}\n});\nexport { RenderType_R3Component };\n\nfunction View_R3Component_1(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 1, \"lobby\", [], null, null, null, i1.View_LobbyComponent_0, i1.RenderType_LobbyComponent)), i0.did(1, 245760, null, 0, i2.LobbyComponent, [i3.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\n\nfunction View_R3Component_2(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 1, \"room\", [], null, null, null, i4.View_RoomComponent_0, i4.RenderType_RoomComponent)), i0.did(1, 49152, null, 0, i5.RoomComponent, [], null, null)], null, null);\n}\n\nexport function View_R3Component_0(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 1, \"navigation\", [], null, null, null, i6.View_NavigationComponent_0, i6.RenderType_NavigationComponent)), i0.did(1, 245760, null, 0, i7.NavigationComponent, [i3.RoomService], null, null), (_l()(), i0.eld(2, 0, null, null, 4, \"div\", [[\"class\", \"container my-2\"]], null, null, null, null, null)), (_l()(), i0.and(16777216, null, null, 1, null, View_R3Component_1)), i0.did(4, 16384, null, 0, i8.NgIf, [i0.ViewContainerRef, i0.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i0.and(16777216, null, null, 1, null, View_R3Component_2)), i0.did(6, 16384, null, 0, i8.NgIf, [i0.ViewContainerRef, i0.TemplateRef], {\n    ngIf: [0, \"ngIf\"]\n  }, null), (_l()(), i0.eld(7, 0, null, null, 7, \"footer\", [[\"class\", \"container d-flex justify-content-end fixed-bottom my-2\"]], null, null, null, null, null)), (_l()(), i0.eld(8, 0, null, null, 1, \"a\", [[\"class\", \"mx-4\"], [\"href\", \"https://jovalent.com\"], [\"target\", \"_blank\"]], null, null, null, null, null)), (_l()(), i0.ted(-1, null, [\"Jovalent.com\"])), (_l()(), i0.eld(10, 0, null, null, 4, \"a\", [[\"class\", \"ml-4\"], [\"href\", \"https://twitter.com/JovalentStudios\"], [\"target\", \"_blank\"]], null, null, null, null, null)), (_l()(), i0.eld(11, 0, null, null, 2, \"fa-icon\", [[\"class\", \"ng-fa-icon\"]], [[8, \"innerHTML\", 1]], null, null, i9.View_FaIconComponent_0, i9.RenderType_FaIconComponent)), i0.did(12, 573440, null, 0, i10.FaIconComponent, [i11.DomSanitizer], {\n    iconProp: [0, \"iconProp\"]\n  }, null), i0.pad(13, 2), (_l()(), i0.ted(-1, null, [\" @JovalentStudios \"]))], function (_ck, _v) {\n    var _co = _v.component;\n\n    _ck(_v, 1, 0);\n\n    var currVal_0 = !_co.currentRoom;\n\n    _ck(_v, 4, 0, currVal_0);\n\n    var currVal_1 = _co.currentRoom;\n\n    _ck(_v, 6, 0, currVal_1);\n\n    var currVal_3 = _ck(_v, 13, 0, \"fab\", \"twitter\");\n\n    _ck(_v, 12, 0, currVal_3);\n  }, function (_ck, _v) {\n    var currVal_2 = i0.nov(_v, 12).renderedIconHTML;\n\n    _ck(_v, 11, 0, currVal_2);\n  });\n}\nexport function View_R3Component_Host_0(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 1, \"r3\", [], null, null, null, View_R3Component_0, RenderType_R3Component)), i0.did(1, 4440064, null, 0, i12.R3Component, [i13.GameService, i3.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 1, 0);\n  }, null);\n}\nvar R3ComponentNgFactory = i0.ccf(\"r3\", i12.R3Component, View_R3Component_Host_0, {}, {}, []);\nexport { R3ComponentNgFactory };","<navigation></navigation> <div class=\"container my-2\"> <lobby *ngIf=\"!currentRoom\"></lobby> <room *ngIf=\"currentRoom\"></room> </div> <footer class=\"container d-flex justify-content-end fixed-bottom my-2\"> <a href=\"https://jovalent.com\" target=\"_blank\" class=\"mx-4\">Jovalent.com</a> <a href=\"https://twitter.com/JovalentStudios\" target=\"_blank\" class=\"ml-4\"> <fa-icon [icon]=\"[ 'fab', 'twitter' ]\"></fa-icon> @JovalentStudios </a> </footer> ","import { Component, AfterViewInit, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject, fromEvent, of } from 'rxjs';\r\nimport { filter, mergeMap, takeUntil } from 'rxjs/operators';\r\nimport { RoomService } from './room.service';\r\nimport { GameService } from './game.service';\r\n\r\n@Component( {\r\n\tselector: 'r3',\r\n\ttemplateUrl: './r3.component.html'\r\n} )\r\nexport class R3Component implements AfterViewInit, OnInit, OnDestroy {\r\n\tpublic constructor(\r\n\t\t// HACK: if we don't initialize this service before joining a room, there's a race condition\r\n\t\t//       where we may not be listening in time for the first update event.\r\n\t\tprivate readonly gameService: GameService,\r\n\t\tprivate readonly roomService: RoomService\r\n\t) {}\r\n\r\n\tpublic ngOnInit() {\r\n\t\tconst { destroyed, roomService } = this;\r\n\t\troomService.getCurrentRoom()\r\n\t\t.pipe( takeUntil( destroyed ) )\r\n\t\t.subscribe( room => {\r\n\t\t\tthis.currentRoom = room;\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngAfterViewInit() {\r\n\t\tconst { destroyed } = this,\r\n\t\t\tkeys = [ 'Backspace', ' ' ],\r\n\t\t\tcodes = [ 'Backspace', 'Space' ],\r\n\t\t\tinputs = [ 'INPUT', 'TEXTAREA', 'SELECT' ];\r\n\r\n\t\tof( 'keydown', 'keypress' )\r\n\t\t.pipe(\r\n\t\t\tmergeMap( evtName => fromEvent<KeyboardEvent>( document, evtName, { capture: false } ) ),\r\n\t\t\tfilter<KeyboardEvent>( e => keys.includes( e.key ) || codes.includes( e.code ) ),\r\n\t\t\tfilter<KeyboardEvent>( e => {\r\n\t\t\t\tconst { activeElement } = document,\r\n\t\t\t\t\ttarget = ( e.srcElement || e.target ) as HTMLInputElement|void;\r\n\t\t\t\t\treturn activeElement === document.body\r\n\t\t\t\t\t|| activeElement === document.documentElement\r\n\t\t\t\t\t|| !target\r\n\t\t\t\t\t|| !inputs.includes( target.tagName || target.nodeName )\r\n\t\t\t\t\t|| target.disabled\r\n\t\t\t\t\t|| target.readOnly;\r\n\t\t\t} ),\r\n\t\t\ttakeUntil( destroyed )\r\n\t\t).subscribe( e => {\r\n\t\t\te.cancelBubble = true;\r\n\t\t\te.returnValue = false;\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tpublic currentRoom = null as Room|null;\r\n\tprivate readonly destroyed = new Subject<true>();\r\n}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./game.component.ngfactory\";\nimport * as i2 from \"./game.component\";\nimport * as i3 from \"./game.service\";\nimport * as i4 from \"./room.service\";\nimport * as i5 from \"ngx-zone-scheduler/dist/zone-scheduler\";\nimport * as i6 from \"./chat.component.ngfactory\";\nimport * as i7 from \"./chat.component\";\nimport * as i8 from \"./room.component\";\nvar styles_RoomComponent = [];\nvar RenderType_RoomComponent = i0.crt({\n  encapsulation: 2,\n  styles: styles_RoomComponent,\n  data: {}\n});\nexport { RenderType_RoomComponent };\nexport function View_RoomComponent_0(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 4, \"div\", [[\"class\", \"row\"]], null, null, null, null, null)), (_l()(), i0.eld(1, 0, null, null, 1, \"game\", [[\"class\", \"col-lg-5 col-sm-6 col-12\"]], null, null, null, i1.View_GameComponent_0, i1.RenderType_GameComponent)), i0.did(2, 245760, null, 0, i2.GameComponent, [i3.GameService, i4.RoomService, i5.ZoneScheduler], null, null), (_l()(), i0.eld(3, 0, null, null, 1, \"chat\", [[\"class\", \"col-lg-7 col-sm-6 col-12\"]], null, null, null, i6.View_ChatComponent_0, i6.RenderType_ChatComponent)), i0.did(4, 114688, null, 0, i7.ChatComponent, [i4.RoomService], null, null)], function (_ck, _v) {\n    _ck(_v, 2, 0);\n\n    _ck(_v, 4, 0);\n  }, null);\n}\nexport function View_RoomComponent_Host_0(_l) {\n  return i0.vid(0, [(_l()(), i0.eld(0, 0, null, null, 1, \"room\", [], null, null, null, View_RoomComponent_0, RenderType_RoomComponent)), i0.did(1, 49152, null, 0, i8.RoomComponent, [], null, null)], null, null);\n}\nvar RoomComponentNgFactory = i0.ccf(\"room\", i8.RoomComponent, View_RoomComponent_Host_0, {}, {}, []);\nexport { RoomComponentNgFactory };","<div class=\"row\"> <game class=\"col-lg-5 col-sm-6 col-12\"></game> <chat class=\"col-lg-7 col-sm-6 col-12\"></chat> </div> ","export class RoomComponent {}","import { Component } from '@angular/core';\n\n@Component( {\n\tselector: 'room',\n\ttemplateUrl: './room.component.html'\n} )\nexport class RoomComponent {\n}\n","import { Observable, BehaviorSubject, ReplaySubject, SchedulerLike, combineLatest } from 'rxjs';\r\nimport { distinctUntilChanged, observeOn, scan } from 'rxjs/operators';\r\nimport { tapLog } from 'src/operators';\r\nimport { ZoneScheduler } from 'ngx-zone-scheduler';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { SessionService } from './session.service';\r\n\r\n@Injectable()\r\nexport class RoomService {\r\n\tconstructor(\r\n\t\t@Inject(ZoneScheduler)\r\n\t\tprivate readonly scheduler: SchedulerLike,\r\n\t\t@Inject(SessionService)\r\n\t\tprivate readonly sessionService: SessionService\r\n\t) {\r\n\t\tsessionService.getEvents<Room[]>( 'rooms' )\r\n\t\t.subscribe( rooms => {\r\n\t\t\tconst { allRooms } = this;\r\n\t\t\tallRooms.next( rooms );\r\n\t\t} );\r\n\r\n\t\tsessionService.getEvents<string[]>( 'joinedRooms' )\r\n\t\t.subscribe( roomIds => {\r\n\t\t\tconst { joinedRoomIds } = this;\r\n\t\t\tjoinedRoomIds.next( roomIds );\r\n\t\t} );\r\n\r\n\t\tcombineLatest( this.joinedRoomIds, this.allRooms, ( roomIds, rooms ) => {\r\n\t\t\tconst joinedRooms = rooms.filter( r => roomIds.includes( r.roomId ) ),\r\n\t\t\t\tcurrentRoom = this.currentRoom.getValue();\r\n\t\t\tif( currentRoom ) {\r\n\t\t\t\tthis.currentRoom.next( joinedRooms.filter( j => j.roomId === currentRoom.roomId )[ 0 ] || null );\r\n\t\t\t}\r\n\t\t\treturn joinedRooms;\r\n\t\t} )\r\n\t\t.subscribe( joinedRooms => {\r\n\t\t\tthis.joinedRooms.next( joinedRooms );\r\n\t\t} );\r\n\r\n\t\tsessionService.getEvents<Message>( 'message' )\r\n\t\t.subscribe( message => {\r\n\t\t\tconst { allMessages } = this;\r\n\t\t\tallMessages.next( message );\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic getRooms() {\r\n\t\tconst { allRooms, scheduler } = this;\r\n\t\treturn allRooms.pipe( observeOn( scheduler ) ) as Observable<Room[]>;\r\n\t}\r\n\r\n\tpublic async sendMessage( roomId: string, message: string ) {\r\n\t\tconst { sessionService } = this;\r\n\t\tawait sessionService.emit( 'sendMessage', { roomId, message } );\r\n\t}\r\n\r\n\tpublic getMessages() {\r\n\t\tconst { allMessages, scheduler } = this;\r\n\t\treturn allMessages\r\n\t\t.pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tscan<Message>( ( arr, val ) => ( [ ...arr, val ] ), [] ),\r\n\t\t\tobserveOn( scheduler )\r\n\t\t);\r\n\t}\r\n\r\n\tpublic getJoinedRooms() {\r\n\t\tconst { joinedRooms, scheduler } = this;\r\n\t\treturn joinedRooms.pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tobserveOn( scheduler )\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async joinRoom( room: Room, password: string ) {\r\n\t\tconst { sessionService, currentRoom } = this,\r\n\t\t\t{ roomId } = room;\r\n\t\tawait sessionService.emit<Room>( 'joinRoom', { roomId, password } );\r\n\t\tcurrentRoom.next( room );\r\n\t}\r\n\r\n\tpublic async leaveRoom( roomId: string ) {\r\n\t\tconst { sessionService } = this;\r\n\t\tawait sessionService.emit( 'leaveRoom', { roomId } );\r\n\t}\r\n\r\n\tpublic async createRoom( name: string, password: string ) {\r\n\t\tconst { currentRoom, sessionService } = this;\r\n\t\tconst room = await sessionService.emit<Room>( 'createRoom', { name, password } );\r\n\t\tcurrentRoom.next( room );\r\n\t\treturn room;\r\n\t}\r\n\r\n\tpublic async setRoom( room: Room|void ) {\r\n\t\tconst { currentRoom } = this;\r\n\t\tif( room ) {\r\n\t\t\tconst { roomId } = room,\r\n\t\t\t\tjoinedRooms = this.joinedRooms.getValue();\r\n\t\t\tif( !joinedRooms.some( r => r.roomId === roomId ) ) {\r\n\t\t\t\tthrow new Error( 'Room is not joined.' );\r\n\t\t\t}\r\n\t\t\tcurrentRoom.next( room );\r\n\t\t} else {\r\n\t\t\tcurrentRoom.next( null );\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getCurrentRoom() {\r\n\t\tconst { currentRoom, scheduler } = this;\r\n\t\treturn currentRoom.pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tobserveOn( scheduler )\r\n\t\t);\r\n\t}\r\n\r\n\tprivate readonly allMessages = new ReplaySubject<Message>( 10 );\r\n\tprivate readonly allRooms = new BehaviorSubject<Room[]>( [] );\r\n\tprivate readonly joinedRoomIds = new BehaviorSubject<string[]>( [] );\r\n\tprivate readonly joinedRooms = new BehaviorSubject<Room[]>( [] );\r\n\tprivate readonly currentRoom = new BehaviorSubject<Room|null>( null );\r\n}\r\n","import { Subject, Observable, SchedulerLike, fromEvent, of } from 'rxjs';\r\nimport { observeOn, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { ZoneScheduler } from 'ngx-zone-scheduler';\r\nimport { Inject, Injectable, OnDestroy } from '@angular/core';\r\nimport io from 'socket.io-client';\r\nimport { tapLog } from 'src/operators';\r\n\r\n@Injectable()\r\nexport class SessionService implements OnDestroy {\r\n\tconstructor(\r\n\t\t@Inject(ZoneScheduler)\r\n\t\tprivate readonly scheduler: SchedulerLike\r\n\t) {\r\n\t\tconst { destroyed } = this;\r\n\t\tconst socket = this.socket = io.connect( '/', { transports: [ 'websocket', 'polling' ], upgrade: false } );\r\n\r\n\t\tof( 'connect' )\r\n\t\t.pipe(\r\n\t\t\tswitchMap( e => fromEvent( socket, e ) ),\r\n\t\t\ttakeUntil( destroyed )\r\n\t\t)\r\n\t\t.subscribe( console.log.bind( console ) );\r\n\r\n\t\tof( 'error', 'connect_error', 'reconnect_error' )\r\n\t\t.pipe(\r\n\t\t\tswitchMap( e => fromEvent( socket, e ) ),\r\n\t\t\ttakeUntil( destroyed )\r\n\t\t)\r\n\t\t.subscribe( console.error.bind( console ) );\r\n\r\n\t\tdestroyed.subscribe( () => { socket.close(); } );\r\n\t}\r\n\r\n\tpublic getEvents<T>( message: string ): Observable<T> {\r\n\t\tconst { socket, scheduler } = this;\r\n\t\treturn fromEvent<T>( socket, message )\r\n\t\t\t.pipe( tapLog( 'event', message ), observeOn( scheduler ) );\r\n\t}\r\n\r\n\tpublic emit<T>( message: string, data: Object = {} ) {\r\n\t\tconst { socket } = this;\r\n\t\treturn new Promise<T>( ( resolve, reject ) => {\r\n\t\t\tsocket.emit( message, data, ( error, result ) => {\r\n\t\t\t\tif( error ) reject( error );\r\n\t\t\t\telse resolve( result );\r\n\t\t\t} );\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic ngOnDestroy() {\r\n\t\tthis.destroyed.next( true );\r\n\t\tthis.destroyed.complete();\r\n\t}\r\n\r\n\tprivate socket: SocketIOClient.Socket;\r\n\tprivate readonly destroyed = new Subject<true>();\r\n}\r\n","import 'bootstrap';\r\nimport './font-awesome';\r\n","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n\nfunction validate(grid, {\n  x,\n  y\n}) {\n  if (!Number.isSafeInteger(x) || !Number.isSafeInteger(y)) {\n    throw new Error(`(${x}, ${y}) is not valid`);\n  }\n\n  if (!grid.boundsCheck({\n    x,\n    y\n  })) {\n    throw new Error(`(${x}, ${y}) is out of bounds`);\n  }\n}\n\nexport class Grid {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n    this.data = new Map();\n  }\n\n  boundsCheck({\n    x,\n    y\n  }) {\n    const width = this.width,\n          height = this.height;\n    return x >= 0 && x < width && y >= 0 && y < height;\n  }\n\n  get({\n    x,\n    y\n  }) {\n    validate(this, {\n      x,\n      y\n    });\n    const key = JSON.stringify({\n      x,\n      y\n    });\n    return this.data.get(key);\n  }\n\n  set({\n    x,\n    y\n  }, value) {\n    validate(this, {\n      x,\n      y\n    });\n    const key = JSON.stringify({\n      x,\n      y\n    });\n    this.data.set(key, value);\n  }\n\n  [Symbol.iterator]() {\n    function* iterator() {\n      const width = this.width,\n            height = this.height;\n\n      for (let x = 0; x < width; ++x) {\n        for (let y = 0; y < height; ++y) {\n          yield this.get({\n            x,\n            y\n          });\n        }\n      }\n    }\n\n    return iterator.call(this);\n  }\n\n}","function validate<T>( grid: Grid<T>, { x, y }: Point ) {\n\tif( !Number.isSafeInteger( x ) || !Number.isSafeInteger( y ) ) {\n\t\tthrow new Error( `(${x}, ${y}) is not valid` );\n\t}\n\tif( !grid.boundsCheck( { x, y } ) ) {\n\t\tthrow new Error( `(${x}, ${y}) is out of bounds` );\n\t}\n}\n\nexport class Grid<T> {\n\tpublic constructor( public readonly width: number, public readonly height: number ) {}\n\n\tpublic boundsCheck( { x, y }: Point ) {\n\t\tconst { width, height } = this;\n\t\treturn x >= 0 && x < width && y >= 0 && y < height;\n\t}\n\n\tpublic get( { x, y }: Point ) {\n\t\tvalidate( this, { x, y } );\n\t\tconst key = JSON.stringify( { x, y } );\n\t\treturn this.data.get( key );\n\t}\n\n\tpublic set( { x, y }: Point, value: T ) {\n\t\tvalidate( this, { x, y } );\n\t\tconst key = JSON.stringify( { x, y } );\n\t\tthis.data.set( key, value );\n\t}\n\n\tpublic [Symbol.iterator]() {\n\t\tfunction *iterator( this: Grid<T> ) {\n\t\t\tconst { width, height } = this;\n\t\t\tfor( let x = 0; x < width; ++x ) {\n\t\t\tfor( let y = 0; y < height; ++ y ) {\n\t\t\t\tyield this.get( { x, y } );\n\t\t\t} }\n\t\t}\n\t\treturn iterator.call( this ) as IterableIterator<T|undefined>;\n\t}\n\n\tprivate data = new Map<string, T>();\n}\n","import \"core-js/modules/web.dom.iterable\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { tap } from 'rxjs/operators';\nexport const tapLog = (...prefixes) => tap(['next', 'error', 'complete'].reduce((prev, key) => _objectSpread({}, prev, {\n  [key]: console.log.bind(console, ...prefixes, key)\n}), {}));","import { Observer } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nexport const tapLog = <T>( ...prefixes: string[] ) =>\r\n\ttap(\r\n\t\t[ 'next', 'error', 'complete' ]\r\n\t\t.reduce( ( prev, key ) => ( { ...prev, [ key ]: console.log.bind( console, ...prefixes, key ) } ), {} as Observer<T> )\r\n\t);\r\n","import \"core-js/modules/web.dom.iterable\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Board } from './board';\nconst directions = [{\n  x: 0,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: -1,\n  y: -1\n}];\n\nfunction getAffectedSquares(board, position, color) {\n  if (!board.boundsCheck(position)) {\n    return [];\n  }\n\n  const square = board.get(position);\n\n  if (!square || !square.empty || !square.enabled) {\n    return [];\n  }\n\n  function direction({\n    x,\n    y\n  }, delta) {\n    const squares = [];\n\n    for (;;) {\n      x += delta.x;\n      y += delta.y;\n\n      if (!board.boundsCheck({\n        x,\n        y\n      })) {\n        return [];\n      }\n\n      const square = board.get({\n        x,\n        y\n      });\n\n      if (!square || square.empty || !square.enabled) {\n        return [];\n      }\n\n      if (square.color === color) {\n        return squares;\n      }\n\n      squares.push(square);\n    }\n  }\n\n  let squares = [square];\n\n  for (const delta of directions) {\n    squares = [...squares, ...direction(position, delta)];\n  }\n\n  if (squares.length <= 1) {\n    return [];\n  }\n\n  return squares;\n}\n\nclass RulesStandard {\n  constructor() {\n    this.name = 'Standard';\n    this.ruleSet = \"standard\"\n    /* standard */\n    ;\n    this.colors = 2;\n    this.boardSize = Object.freeze({\n      width: 8,\n      height: 8\n    });\n  }\n\n  isValid(game, gameState, position, color) {\n    return getAffectedSquares(Board.fromGame(game, gameState), position, color).length > 0;\n  }\n\n  compareScores(score1, score2) {\n    return score1 - score2;\n  }\n\n  getValidMoves(game, gameState, color) {\n    const points = [];\n    const _game$size = game.size,\n          width = _game$size.width,\n          height = _game$size.height;\n\n    for (let x = 0; x < width; ++x) {\n      for (let y = 0; y < height; ++y) {\n        const point = {\n          x,\n          y\n        };\n        if (this.isValid(game, gameState, point, color)) points.push(point);\n      }\n    }\n\n    return points;\n  }\n\n  isGameOver(game, gameState) {\n    const colors = this.colors;\n\n    for (let color = 0; color < colors; ++color) {\n      if (this.getValidMoves(game, gameState, color).length > 0) return false;\n    }\n\n    return true;\n  }\n\n  makeMove(game, gameState, position) {\n    const prevTurn = gameState.turn,\n          prevIndex = gameState.index;\n    const board = Board.fromGame(game, gameState);\n    const squares = getAffectedSquares(board, position, prevTurn);\n    if (squares.length === 0) return null;\n\n    for (const square of squares) {\n      square.color = prevTurn;\n    }\n\n    const index = prevIndex + 1;\n    const lastMove = Object.freeze(_objectSpread({}, position));\n    const data = board.getData();\n    const colors = this.colors;\n    let turn = null;\n\n    for (let i = 0; i < colors; ++i) {\n      const t = (prevTurn + 1 + i) % colors;\n\n      if (this.getValidMoves(game, {\n        turn: t,\n        index,\n        data,\n        lastMove\n      }, t).length > 0) {\n        turn = t;\n        break;\n      }\n    }\n\n    return {\n      turn,\n      index,\n      data,\n      lastMove\n    };\n  }\n\n  getScore(game, gameState, color) {\n    const board = Board.fromGame(game, gameState);\n    let score = 0;\n\n    for (const square of board) {\n      if (square && square.enabled && square.color === color) {\n        ++score;\n      }\n    }\n\n    return score;\n  }\n\n  newGame(gameId) {\n    const boardSize = this.boardSize;\n    const board = new Board();\n    board.reset(boardSize); // TODO: center? gets ugly with an odd dimension\n\n    board.get({\n      x: 3,\n      y: 3\n    }).color = 0;\n    board.get({\n      x: 4,\n      y: 3\n    }).color = 1;\n    board.get({\n      x: 3,\n      y: 4\n    }).color = 1;\n    board.get({\n      x: 4,\n      y: 4\n    }).color = 0;\n    const gameStates = [{\n      turn: 0,\n      index: 0,\n      data: board.getData(),\n      lastMove: null\n    }];\n    return {\n      gameId,\n      ruleSet: this.ruleSet,\n      mask: board.getMask(),\n      colors: Object.freeze(['black', 'white']),\n      size: Object.freeze(_objectSpread({}, boardSize)),\n      gameStates: Object.freeze(gameStates)\n    };\n  }\n\n}\n\nclass RulesReversed extends RulesStandard {\n  constructor() {\n    super(...arguments);\n    this.name = 'Reversed';\n    this.ruleSet = \"reversed\"\n    /* reversed */\n    ;\n  }\n\n  compareScores(score1, score2) {\n    return score2 - score1;\n  }\n\n}\n\nexport const rulesStandard = new RulesStandard();\nexport const rulesReversed = new RulesReversed();\nexport const ruleSets = [rulesStandard, rulesReversed];\nexport const ruleSetMap = new Map();\n\nfor (const ruleSet of ruleSets) {\n  ruleSetMap.set(ruleSet.ruleSet, ruleSet);\n}","import { Board } from './board';\nimport { Square } from './square';\n\nconst directions: ReadonlyArray<Point> = [\n\t{ x:  0, y: -1 },\n\t{ x:  1, y: -1 },\n\t{ x:  1, y:  0 },\n\t{ x:  1, y:  1 },\n\t{ x:  0, y:  1 },\n\t{ x: -1, y:  1 },\n\t{ x: -1, y:  0 },\n\t{ x: -1, y: -1 }\n];\n\nfunction getAffectedSquares( board: Board, position: Point, color: number ): Square[] {\n\tif( !board.boundsCheck( position ) ) { return []; }\n\tconst square = board.get( position );\n\tif( !square || !square.empty || !square.enabled ) { return []; }\n\tfunction direction( { x, y }: Point, delta: Point ): Square[] {\n\t\tconst squares = [] as Square[];\n\t\tfor( ; ; ) {\n\t\t\tx += delta.x;\n\t\t\ty += delta.y;\n\t\t\tif( !board.boundsCheck( { x, y } ) ) { return []; }\n\t\t\tconst square = board.get( { x, y } );\n\t\t\tif( !square || square.empty || !square.enabled ) { return []; }\n\t\t\tif( square.color === color ) { return squares; }\n\t\t\tsquares.push( square );\n\t\t}\n\t}\n\tlet squares = [ square ];\n\tfor( const delta of directions ) {\n\t\tsquares = [ ...squares, ...direction( position, delta ) ];\n\t}\n\tif( squares.length <= 1 ) { return []; }\n\treturn squares;\n}\n\nclass RulesStandard implements Rules {\n\tpublic readonly name: string = 'Standard';\n\tpublic readonly ruleSet: RuleSet = RuleSet.standard;\n\tpublic readonly colors: number = 2;\n\tpublic readonly boardSize: Readonly<Size> = Object.freeze( { width: 8, height: 8 } );\n\n\tpublic isValid( game: Game, gameState: GameState, position: Point, color: number ) {\n\t\treturn getAffectedSquares( Board.fromGame( game, gameState ), position, color ).length > 0;\n\t}\n\n\tpublic compareScores( score1: number, score2: number ) {\n\t\treturn score1 - score2;\n\t}\n\n\tpublic getValidMoves( game: Game, gameState: GameState, color: number ) {\n\t\tconst points = [] as Point[];\n\t\tconst { size: { width, height } } = game;\n\t\tfor( let x = 0; x < width; ++x ) {\n\t\tfor( let y = 0; y < height; ++y ) {\n\t\t\tconst point = { x, y };\n\t\t\tif( this.isValid( game, gameState, point, color ) ) points.push( point );\n\t\t}\n\t\t}\n\t\treturn points;\n\t}\n\n\tpublic isGameOver( game: Game, gameState: GameState ) {\n\t\tconst { colors } = this;\n\t\tfor( let color = 0; color < colors; ++color ) {\n\t\t\tif( this.getValidMoves( game, gameState, color ).length > 0 ) return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic makeMove( game: Game, gameState: GameState, position: Readonly<Point> ) {\n\t\tconst { turn: prevTurn, index: prevIndex } = gameState;\n\t\tconst board = Board.fromGame( game, gameState );\n\t\tconst squares = getAffectedSquares( board, position, prevTurn );\n\t\tif( squares.length === 0 ) return null;\n\t\tfor( const square of squares ) {\n\t\t\tsquare.color = prevTurn;\n\t\t}\n\t\tconst index = prevIndex + 1;\n\t\tconst lastMove = Object.freeze( { ...position } );\n\t\tconst data = board.getData();\n\t\tconst { colors } = this;\n\t\tlet turn: number|null = null;\n\t\tfor( let i = 0; i < colors; ++i ) {\n\t\t\tconst t = ( prevTurn + 1 + i ) % colors;\n\t\t\tif( this.getValidMoves( game, { turn: t, index, data, lastMove }, t ).length > 0 ) {\n\t\t\t\tturn = t;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn { turn, index, data, lastMove };\n\t}\n\n\tpublic getScore( game: Game, gameState: GameState, color: number ) {\n\t\tconst board = Board.fromGame( game, gameState );\n\t\tlet score = 0;\n\t\tfor( const square of board ) {\n\t\t\tif( square && square.enabled && square.color === color ) {\n\t\t\t\t++score;\n\t\t\t}\n\t\t}\n\t\treturn score;\n\t}\n\n\tpublic newGame( gameId: string ) {\n\t\tconst { boardSize } = this;\n\n\t\tconst board = new Board;\n\t\tboard.reset( boardSize );\n\t\t// TODO: center? gets ugly with an odd dimension\n\t\tboard.get( { x: 3, y: 3 } ).color = 0;\n\t\tboard.get( { x: 4, y: 3 } ).color = 1;\n\t\tboard.get( { x: 3, y: 4 } ).color = 1;\n\t\tboard.get( { x: 4, y: 4 } ).color = 0;\n\t\tconst gameStates = [ {\n\t\t\tturn: 0,\n\t\t\tindex: 0,\n\t\t\tdata: board.getData(),\n\t\t\tlastMove: null\n\t\t} as GameState ];\n\t\treturn {\n\t\t\tgameId,\n\t\t\truleSet: this.ruleSet,\n\t\t\tmask: board.getMask(),\n\t\t\tcolors: Object.freeze( [ 'black', 'white' ] ),\n\t\t\tsize: Object.freeze( { ...boardSize } ),\n\t\t\tgameStates: Object.freeze( gameStates )\n\t\t};\n\t}\n}\n\nclass RulesReversed extends RulesStandard {\n\tpublic readonly name: string = 'Reversed';\n\tpublic readonly ruleSet: RuleSet = RuleSet.reversed;\n\n\tpublic compareScores( score1: number, score2: number ) {\n\t\treturn score2 - score1;\n\t}\n}\n\nexport const rulesStandard = new RulesStandard;\nexport const rulesReversed = new RulesReversed;\nexport const ruleSets = [ rulesStandard, rulesReversed ] as Rules[];\nexport const ruleSetMap = new Map<RuleSet, Rules>();\nfor( const ruleSet of ruleSets ) {\n\truleSetMap.set( ruleSet.ruleSet, ruleSet );\n}\n","export class Square {\n  constructor(position, bounds) {\n    this.position = position;\n    this.bounds = bounds;\n    this.enabled = true;\n    this.color = null;\n  }\n\n  get empty() {\n    return this.color === null;\n  }\n\n}","import { Bounds } from 'src/bounds';\n\nexport class Square {\n\tpublic constructor(\n\t\tpublic readonly position: Point,\n\t\tpublic readonly bounds: Bounds\n\t) {}\n\n\tpublic enabled = true;\n\tpublic color: number|null = null;\n\n\tpublic get empty() { return this.color === null; }\n}\n","/* (ignored) */"],"sourceRoot":""}